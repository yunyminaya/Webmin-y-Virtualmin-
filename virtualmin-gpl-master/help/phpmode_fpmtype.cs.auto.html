<header>Režim PHP Process Manager</header> PHP-FPM nebo FastCGI Process Manager for PHP poskytuje několik režimů správy pro své pracovní procesy. Tyto režimy určují, jak bude PHP-FPM vytvářet, udržovat a recyklovat podřízené procesy, které zpracovávají požadavky PHP. Režim se nastavuje pomocí konfigurační direktivy <tt>pm</tt> .<br><br> <b><tt>dynamic</tt></b> (výchozí)<br> V <tt>dynamic</tt> režimu PHP-FPM dynamicky upravuje počet vytvořených podřízených procesů na základě poptávky a řídí se následujícími direktivami: <p></p><table><tr><td style="white-space: nowrap; vertical-align: top; padding-right: 0.5rem!important;"> <tt>pm.max_children</tt></td><td> maximální počet dětí, které mohou být současně naživu </td></tr><tr><td style="white-space: nowrap; vertical-align: top; padding-right: 0.5rem!important;"> <tt>pm.start_servers</tt></td><td> počet dětí vytvořených při spuštění </td></tr><tr><td style="white-space: nowrap; vertical-align: top; padding-right: 0.5rem!important;"> <tt>pm.min_spare_servers</tt></td><td> minimální počet dětí v „nečinném“ stavu (čekající na zpracování). Pokud je počet „nečinných“ procesů menší než tento počet, vytvoří se nějaké potomky </td></tr><tr><td style="white-space: nowrap; vertical-align: top; padding-right: 0.5rem!important;"> <tt>pm.max_spare_servers</tt></td><td> maximální počet dětí ve stavu „nečinnost“ (čekající na zpracování). Pokud je počet „nečinných“ procesů větší než tento počet, budou některé děti zabity </td></tr><tr><td style="white-space: nowrap; vertical-align: top; padding-right: 0.5rem!important;"> <tt>pm.max_spawn_rate</tt></td><td> maximální počet sazbou pro vytvoření podřízených procesů najednou</td></tr></table><p></p> Mezi výhody patří automatické přizpůsobení počtu podřízených procesů na základě poptávky, což zajišťuje optimální využití zdrojů. To je užitečné zejména pro servery s proměnlivým zatížením.<br><br> <b><tt>static</tt></b><br> Ve <tt>static</tt> režimu PHP-FPM udržuje pevný počet podřízených procesů. Toto číslo je určeno direktivou <tt>pm.max_children</tt> . Mezi výhody patří konzistentní využití paměti díky konstantnímu počtu podřízených procesů. To je ideální pro servery se stabilní zátěží.<br><br> <b><tt>ondemand</tt></b><br> V režimu <tt>ondemand</tt> se při spuštění nevytvářejí žádné potomky. Místo toho PHP-FPM vytvoří podřízené procesy pouze v případě potřeby, tj. když existuje příchozí požadavek, který vyžaduje zpracování. Maximální počet dětí, které mohou být současně naživu, je řízen direktivou <tt>pm.max_children</tt> . Procesy jsou poté ukončeny po určité době nečinnosti direktivou <tt>pm.process_idle_timeout</tt> . Mezi výhody patří snížené využití paměti během období nízkého nebo žádného provozu. Ideální pro servery s občasným zatížením nebo aplikace s nepředvídatelnými vzory provozu.<br><br> Nejlepší režim pro vaši aplikaci se může lišit v závislosti na dostupných zdrojích serveru, vzorcích provozu a specifických charakteristikách aplikace. Pro dosažení optimálního výkonu je nezbytné sledovat a dolaďovat nastavení.<footer>