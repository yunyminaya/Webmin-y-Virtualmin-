<header>Tryb menedżera procesów PHP</header> PHP-FPM, czyli FastCGI Process Manager dla PHP, udostępnia kilka trybów zarządzania procesami roboczymi. Tryby te określają, w jaki sposób PHP-FPM będzie tworzyć, utrzymywać i odtwarzać procesy potomne obsługujące żądania PHP. Tryb ustawia się za pomocą dyrektywy konfiguracyjnej <tt>pm</tt> .<br><br> <b><tt>dynamic</tt></b> (domyślny)<br> W trybie <tt>dynamic</tt> PHP-FPM dynamicznie dostosowuje liczbę powstających procesów potomnych w oparciu o zapotrzebowanie i kontrolowane przez następujące dyrektywy: <p></p><table><tr><td style="white-space: nowrap; vertical-align: top; padding-right: 0.5rem!important;"> <tt>pm.max_children</tt></td><td> maksymalna liczba dzieci, które mogą jednocześnie żyć </td></tr><tr><td style="white-space: nowrap; vertical-align: top; padding-right: 0.5rem!important;"> <tt>pm.start_servers</tt></td><td> liczba dzieci utworzonych przy uruchomieniu </td></tr><tr><td style="white-space: nowrap; vertical-align: top; padding-right: 0.5rem!important;"> <tt>pm.min_spare_servers</tt></td><td> minimalna liczba dzieci w stanie „bezczynności” (oczekujących na przetworzenie). Jeśli liczba „bezczynnych” procesów jest mniejsza niż ta liczba, wówczas zostaną utworzone pewne procesy potomne </td></tr><tr><td style="white-space: nowrap; vertical-align: top; padding-right: 0.5rem!important;"> <tt>pm.max_spare_servers</tt></td><td> maksymalna liczba dzieci w stanie „bezczynności” (oczekujących na przetworzenie). Jeśli liczba „bezczynnych” procesów jest większa niż ta liczba, niektóre dzieci zostaną zabite </td></tr><tr><td style="white-space: nowrap; vertical-align: top; padding-right: 0.5rem!important;"> <tt>pm.max_spawn_rate</tt></td><td> maksymalna liczba szybkości odradzania procesów potomnych na raz</td></tr></table><p></p> Korzyści obejmują automatyczne dostosowywanie liczby procesów potomnych w oparciu o zapotrzebowanie, zapewniając optymalne wykorzystanie zasobów. Jest to szczególnie przydatne w przypadku serwerów o zmiennym obciążeniu.<br><br> <b><tt>static</tt></b><br> W trybie <tt>static</tt> PHP-FPM utrzymuje stałą liczbę procesów potomnych. Liczba ta jest określona dyrektywą <tt>pm.max_children</tt> . Korzyści obejmują spójne wykorzystanie pamięci ze względu na stałą liczbę procesów potomnych. Jest to idealne rozwiązanie dla serwerów o stabilnym obciążeniu.<br><br> <b><tt>ondemand</tt></b><br> W trybie <tt>ondemand</tt> przy uruchomieniu nie są tworzone żadne elementy podrzędne. Zamiast tego PHP-FPM będzie uruchamiał procesy potomne tylko wtedy, gdy będzie to potrzebne, tj. gdy nadejdzie żądanie wymagające przetworzenia. Maksymalna liczba dzieci, które mogą jednocześnie żyć, jest kontrolowana przez dyrektywę <tt>pm.max_children</tt> . Procesy są następnie kończone po określonym czasie bezczynności przez dyrektywę <tt>pm.process_idle_timeout</tt> . Korzyści obejmują mniejsze zużycie pamięci w okresach małego ruchu lub jego braku. Idealny dla serwerów z sporadycznym obciążeniem lub aplikacji o nieprzewidywalnych wzorcach ruchu.<br><br> Najlepszy tryb dla Twojej aplikacji może się różnić w zależności od dostępnych zasobów serwera, wzorców ruchu i specyficznych cech aplikacji. Aby osiągnąć optymalną wydajność, konieczne jest monitorowanie i dostrajanie ustawień.<footer>