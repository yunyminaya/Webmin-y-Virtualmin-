/*!
 * jsPanel 3.11.3 (https://github.com/Flyer53/jsPanel3)
 * Copyright 2014 Stefan Sträßer
 * Licensed under MIT (https://github.com/Flyer53/jsPanel3/blob/master/LICENSE.TXT)
 */
"use strict";if(!Object.assign){Object.defineProperty(Object,"assign",{enumerable:false,configurable:true,writable:true,value:function(e){if(e===undefined||e===null){throw new TypeError("Cannot convert first argument to object")}var t=Object(e);for(var o=1;o<arguments.length;o++){var s=arguments[o];if(s===undefined||s===null){continue}s=Object(s);var n=Object.keys(Object(s));for(var i=0,l=n.length;i<l;i++){var a=n[i];var r=Object.getOwnPropertyDescriptor(s,a);if(r!==undefined&&r.enumerable){t[a]=s[a]}}}return t}})}var jsPanel={version:"3.11.3",date:"2019-11-25 21:49",id:0,ziBase:10004,zi:10004,modalcount:0,autopositionSpacing:5,pbTreshold:.556,lastbeforeclose:false,template:`<div class="jsPanel">\n                <div class="jsPanel-hdr">\n                    <div class="jsPanel-headerbar">\n                        <div class="jsPanel-headerlogo"></div>\n                        <div class="jsPanel-titlebar">\n                            <h3 class="jsPanel-title"></h3>\n                        </div>\n                        <div class="jsPanel-controlbar">\n                            <div class="jsPanel-btn jsPanel-btn-smallify"><span class="jsglyph jsglyph-chevron-up"></span></div>\n                            <div class="jsPanel-btn jsPanel-btn-smallifyrev"><span class="jsglyph jsglyph-chevron-down"></span></div>\n                            <div class="jsPanel-btn jsPanel-btn-minimize"><span class="jsglyph jsglyph-minimize"></span></div>\n                            <div class="jsPanel-btn jsPanel-btn-normalize"><span class="jsglyph jsglyph-normalize"></span></div>\n                            <div class="jsPanel-btn jsPanel-btn-maximize"><span class="jsglyph jsglyph-maximize"></span></div>\n                            <div class="jsPanel-btn jsPanel-btn-close"><span class="jsglyph jsglyph-close"></span></div>\n                        </div>\n                    </div>\n                    <div class="jsPanel-hdr-toolbar"></div>\n                </div>\n                <div class="jsPanel-content jsPanel-content-nofooter"></div>\n                <div class="jsPanel-minimized-box"></div>\n                <div class="jsPanel-ftr"></div>\n               </div>`,replacementTemplate:`<div class="jsPanel-replacement">\n                            <div class="jsPanel-hdr">\n                                <div class="jsPanel-headerbar">\n                                    <div class="jsPanel-titlebar">\n                                        <h3 class="jsPanel-title"></h3>\n                                    </div>\n                                    <div class="jsPanel-controlbar">\n                                        <div class="jsPanel-btn jsPanel-btn-normalize"><span class="jsglyph jsglyph-normalize"></span></div>\n                                        <div class="jsPanel-btn jsPanel-btn-maximize"><span class="jsglyph jsglyph-maximize"></span></div>\n                                        <div class="jsPanel-btn jsPanel-btn-close"><span class="jsglyph jsglyph-close"></span></div>\n                                    </div>\n                                </div>\n                            </div>\n                          </div>`,themes:["default","primary","info","success","warning","danger"],mdbthemes:["secondary","elegant","stylish","unique","special"],controls:["close","maximize","normalize","minimize","smallify","smallifyrev"],tplHeaderOnly:`<div class="jsPanel">\n                        <div class="jsPanel-hdr">\n                            <div class="jsPanel-headerbar">\n                                <div class="jsPanel-headerlogo"></div>\n                                <div class="jsPanel-titlebar">\n                                    <h3 class="jsPanel-title"></h3>\n                                </div>\n                                <div class="jsPanel-controlbar">\n                                    <div class="jsPanel-btn jsPanel-btn-close"><span class="jsglyph jsglyph-close"></span></div>\n                                </div>\n                            </div>\n                            <div class="jsPanel-hdr-toolbar"></div>\n                        </div>\n                    </div>`,tplContentOnly:`<div class="jsPanel">\n                        <div class="jsPanel-content jsPanel-content-noheader jsPanel-content-nofooter"></div>\n                        <div class="jsPanel-minimized-box"></div>\n                     </div>`,activePanels:{list:[],getPanel(e){return typeof e==="string"?document.getElementById(e).jspanel.noop():document.getElementById(this.list[e]).jspanel.noop()}},closeOnEscape:false,isIE:function(){return navigator.appVersion.indexOf("Trident")!==-1}(),isEdge:function(){return navigator.appVersion.indexOf("Edge")!==-1}(),addConnector(e){const t=e.option.paneltype.connectorBG||null;if(e[0].classList.contains("jsPanel-tooltip-top")){e.append('<div class="jsPanel-connector jsPanel-connector-top">');jQuery(".jsPanel-connector-top",e).css("border-top-color",t||this.calcConnectorBg(e,"top"));e.option.position.offsetY=e.option.position.offsetY-10||-10}else if(e[0].classList.contains("jsPanel-tooltip-bottom")){e.append('<div class="jsPanel-connector jsPanel-connector-bottom">');jQuery(".jsPanel-connector-bottom",e).css("border-bottom-color",t||this.calcConnectorBg(e,"bottom"));e.option.position.offsetY=e.option.position.offsetY+10||10}else if(e[0].classList.contains("jsPanel-tooltip-left")){e.append('<div class="jsPanel-connector jsPanel-connector-left">');jQuery(".jsPanel-connector-left",e).css("border-left-color",t||this.calcConnectorBg(e,"left"));e.option.position.offsetX=e.option.position.offsetX-12||-12}else if(e[0].classList.contains("jsPanel-tooltip-right")){e.append('<div class="jsPanel-connector jsPanel-connector-right">');jQuery(".jsPanel-connector-right",e).css("border-right-color",t||this.calcConnectorBg(e,"right"));e.option.position.offsetX=e.option.position.offsetX+12||12}else if(e[0].classList.contains("jsPanel-tooltip-lefttopcorner")){e.append('<div class="jsPanel-connector jsPanel-connector-lefttopcorner">');jQuery(".jsPanel-connector-lefttopcorner",e).css("background-color",t||this.calcConnectorBg(e,"lefttopcorner"))}else if(e[0].classList.contains("jsPanel-tooltip-righttopcorner")){e.append('<div class="jsPanel-connector jsPanel-connector-righttopcorner">');jQuery(".jsPanel-connector-righttopcorner",e).css("background-color",t||this.calcConnectorBg(e,"righttopcorner"))}else if(e[0].classList.contains("jsPanel-tooltip-rightbottomcorner")){e.append('<div class="jsPanel-connector jsPanel-connector-rightbottomcorner">');jQuery(".jsPanel-connector-rightbottomcorner",e).css("background-color",t||this.calcConnectorBg(e,"rightbottomcorner"))}else if(e[0].classList.contains("jsPanel-tooltip-leftbottomcorner")){e.append('<div class="jsPanel-connector jsPanel-connector-leftbottomcorner">');jQuery(".jsPanel-connector-leftbottomcorner",e).css("background-color",t||this.calcConnectorBg(e,"leftbottomcorner"))}else if(e[0].classList.contains("jsPanel-tooltip-lefttop")){e.append('<div class="jsPanel-connector jsPanel-connector-lefttop">');jQuery(".jsPanel-connector-lefttop",e).css("border-left-color",t||this.calcConnectorBg(e,"lefttop"));e.option.position.offsetX=e.option.position.offsetX-12||-12}else if(e[0].classList.contains("jsPanel-tooltip-leftbottom")){e.append('<div class="jsPanel-connector jsPanel-connector-leftbottom">');jQuery(".jsPanel-connector-leftbottom",e).css("border-left-color",t||this.calcConnectorBg(e,"leftbottom"));e.option.position.offsetX=e.option.position.offsetX-12||-12}else if(e[0].classList.contains("jsPanel-tooltip-topleft")){e.append('<div class="jsPanel-connector jsPanel-connector-topleft">');jQuery(".jsPanel-connector-topleft",e).css("border-top-color",t||this.calcConnectorBg(e,"topleft"));e.option.position.offsetY=e.option.position.offsetY-10||-10}else if(e[0].classList.contains("jsPanel-tooltip-topright")){e.append('<div class="jsPanel-connector jsPanel-connector-topright">');jQuery(".jsPanel-connector-topright",e).css("border-top-color",t||this.calcConnectorBg(e,"topright"));e.option.position.offsetY=e.option.position.offsetY-10||-10}else if(e[0].classList.contains("jsPanel-tooltip-righttop")){e.append('<div class="jsPanel-connector jsPanel-connector-righttop">');jQuery(".jsPanel-connector-righttop",e).css("border-right-color",t||this.calcConnectorBg(e,"righttop"));e.option.position.offsetX=e.option.position.offsetX+12||12}else if(e[0].classList.contains("jsPanel-tooltip-rightbottom")){e.append('<div class="jsPanel-connector jsPanel-connector-rightbottom">');jQuery(".jsPanel-connector-rightbottom",e).css("border-right-color",t||this.calcConnectorBg(e,"rightbottom"));e.option.position.offsetX=e.option.position.offsetX+12||12}else if(e[0].classList.contains("jsPanel-tooltip-bottomleft")){e.append('<div class="jsPanel-connector jsPanel-connector-bottomleft">');jQuery(".jsPanel-connector-bottomleft",e).css("border-bottom-color",t||this.calcConnectorBg(e,"bottomleft"));e.option.position.offsetY=e.option.position.offsetY+10||10}else if(e[0].classList.contains("jsPanel-tooltip-bottomright")){e.append('<div class="jsPanel-connector jsPanel-connector-bottomright">');jQuery(".jsPanel-connector-bottomright",e).css("border-bottom-color",t||this.calcConnectorBg(e,"bottomright"));e.option.position.offsetY=e.option.position.offsetY+10||10}},addCustomTheme(e){if(this.themes.indexOf(e)===-1){this.themes.push(e)}},ajax(e){const t=e.option.contentAjax,o=e.option.contentSize;if(t.then){if(t.then[0]){t.done=t.then[0]}if(t.then[1]){t.fail=t.then[1]}}jQuery.ajax(t).done((o,s,n)=>{if(t.autoload){e.content.append(o)}if(jQuery.isFunction(t.done)){t.done.call(e,o,s,n,e)}}).fail((o,s,n)=>{if(jQuery.isFunction(t.fail)){t.fail.call(e,o,s,n,e)}}).always((s,n,i)=>{if(jQuery.isFunction(t.always)){t.always.call(e,s,n,i,e)}if(e.hasClass("jsPanel-contextmenu")){jsPanel.checkContextmenuOverflow(e)}if(typeof o==="string"&&o.match(/auto/i)){var l=o.split(" "),a=Object.assign({},jQuery.jsPanel.resizedefaults,{width:l[0],height:l[1]});if(t.autoresize){e.resize(a)}if(!e.hasClass("jsPanel-contextmenu")){if(t.autoreposition){e.reposition()}}}else if(jQuery.isPlainObject(o)&&(o.width==="auto"||o.height==="auto")){var a=Object.assign({},jQuery.jsPanel.resizedefaults,o);if(t.autoresize){e.resize(a)}if(!e.hasClass("jsPanel-contextmenu")){if(t.autoreposition){e.reposition()}}}});e.data("ajaxURL",t.url)},applyBuiltInTheme(e,t){e[0].classList.add(`jsPanel-theme-${t.color}`);if(e.header[0]){e.header[0].classList.add(`jsPanel-theme-${t.color}`)}if(t.filling==="filled"){e.content.css("background","")[0].classList.add("jsPanel-content-filled")}else if(t.filling==="filledlight"){e.content.css("background","")[0].classList.add("jsPanel-content-filledlight")}if(!e.option.headerToolbar){e.content.css({borderTop:`1px solid ${e.header.title.css("color")}`})}},applyArbitraryTheme(e,t){e.header.css("background-color",t.colors[0]);jQuery(".jsPanel-headerlogo, .jsPanel-title, .jsPanel-controlbar .jsPanel-btn .jsglyph, .jsPanel-hdr-toolbar",e).css({color:t.colors[3]});if(e.option.headerToolbar){e.header.toolbar.css({boxShadow:`0 0 1px ${t.colors[3]} inset`,width:"calc(100% + 4px)",marginLeft:"-1px"})}else{e.content.css({borderTop:`1px solid ${t.colors[3]}`})}if(t.filling==="filled"){e.content.css({backgroundColor:t.colors[0],color:t.colors[3]})}else if(t.filling==="filledlight"){e.content.css({backgroundColor:t.colors[1]})}},applyBootstrapTheme(e,t){let o;e.addClass(`panel panel-${t.bstheme} card card-inverse card-${t.bstheme}`);if(e.header[0]){e.header[0].classList.add("panel-heading");e.header.title[0].classList.add("panel-title")}if(t.bs==="mdb"){let o=`${t.bstheme}-color`;if(t.mdbStyle){o=`${o}-dark`}e.removeClass(`panel panel-${t.bstheme}`);e[0].classList.add(o)}e.content[0].classList.add("panel-body");e.content.css("border-top-color",()=>{return e.header.css("border-top-color")});e.footer.addClass("panel-footer card-footer");if(jQuery(".panel-heading",e).css("background-color")==="transparent"){o=e.css("background-color").replace(/\s+/g,"")}else{o=jQuery(".panel-heading",e).css("background-color").replace(/\s+/g,"")}const s=this.calcColors(o);jQuery(".jsPanel-headerlogo, .jsPanel-title, .jsPanel-controlbar .jsPanel-btn, .jsPanel-hdr-toolbar",e.header).css("color",s[3]);if(e.option.headerToolbar){e.header.toolbar.css({boxShadow:`0 0 1px ${s[3]} inset`,width:"calc(100% + 4px)",marginLeft:"-1px"})}else{e.content.css({borderTop:`1px solid ${s[3]}`})}if(t.filling==="filled"){e.content.css({backgroundColor:o,color:s[3]})}else if(t.filling==="filledlight"){e.content.css({backgroundColor:s[1],color:"#000000"})}},applyThemeBorder(e,t){const o=e.option.border.split(" ");e.css({borderWidth:o[0],borderStyle:o[1],borderColor:o[2]});if(!t.bs){if(this.themes.indexOf(t.color)===-1){o[2]?e.css("border-color",o[2]):e.css("border-color",t.colors[0])}}else{let t;if(jQuery(".panel-heading",e).css("background-color")==="transparent"){t=e.css("background-color").replace(/\s+/g,"")}else{t=jQuery(".panel-heading",e).css("background-color").replace(/\s+/g,"")}o[2]?e.css("border-color",o[2]):e.css("border-color",t)}},calcColors(e){const t=this.color(e),o=this.lighten(e,.81),s=this.darken(e,.5),n=this.perceivedBrightness(e)<=this.pbTreshold?"#ffffff":"#000000",i=this.perceivedBrightness(o)<=this.pbTreshold?"#ffffff":"#000000",l=this.perceivedBrightness(s)<=this.pbTreshold?"#000000":"#ffffff";return[t.hsl.css,o,s,n,i,l]},calcConnectorBg(e,t){const o=e.content.css("background-color"),s=e.footer.css("background-color"),n=e.header.css("background-color");if(t.match(/^(top|topleft|topright|lefttopcorner|righttopcorner|leftbottom|rightbottom)$/)){if(e.footer.css("display")!=="none"){return s}else if(parseFloat(e.option.contentSize.height)>0){return o}return n}else if(t.match(/^(bottom|bottomleft|bottomright|leftbottomcorner|rightbottomcorner)$/)){if(!e.option.headerRemove){return n}else if(parseFloat(e.option.contentSize.height)>0){return o}else if(e.footer.css("display")!=="none"){return s}}else if(t.match(/^(lefttop|righttop)$/)){if(!e.option.headerRemove){return n}else{return o}}else if(t.match(/^(left|right)$/)){if(parseFloat(e.option.contentSize.height)>0){return o}else if(!e.option.headerRemove){return n}else if(e.footer.css("display")!=="none"){return s}}},clearTheme(e){this.themes.concat(this.mdbthemes).forEach(function(t){e.removeClass(`panel card card-inverse jsPanel-theme-${t} panel-${t} card-${t} ${t}-color`);e.header.removeClass(`panel-heading jsPanel-theme-${t}`)});e.content.removeClass("panel-body jsPanel-content-filled jsPanel-content-filledlight");e.css({borderWidth:"",borderStyle:"",borderColor:""});jQuery(".jsPanel-hdr, .jsPanel-content",e).css({background:""});jQuery(".jsPanel-headerlogo, .jsPanel-title, .jsPanel-controlbar .jsPanel-btn .jsglyph, .jsPanel-hdr-toolbar, .jsPanel-content",e).css({color:""});e.header.title.removeClass("panel-title");e.header.toolbar.css({boxShadow:"",width:"",marginLeft:""});e.css({borderTop:"",borderTopColor:""});e.footer.removeClass("panel-footer card-footer")},close(e,...t){const o=e.attr("id"),s=this.setTrigger(e.option.position),n=e.option.delayClose,i=t;function l(e,...t){t=i;const n=e.option.position;if(n.autoposition||typeof n==="string"&&n.match(/DOWN|RIGHT|UP|LEFT/i)){const t=/left-top|center-top|right-top|left-center|center|right-center|left-bottom|center-bottom|right-bottom/,s=jQuery(e).parent(),n=document.getElementById(o).className.match(t);if(n){jsPanel.lastbeforeclose={parent:s,class:n[0]}}}e.closeChildpanels().remove();if(!jQuery(`#${o}`).length){let n=jsPanel.activePanels.list.indexOf(o);if(n>-1){jsPanel.activePanels.list.splice(n,1)}jsPanel.remMinReplacement(e);if(e.option.paneltype==="modal"){jsPanel.removeModalBackdrop(e)}if(e.option.paneltype.tooltip){s.classList.remove("hasTooltip")}jQuery(document).trigger("jspanelclosed",o);jQuery(document).trigger("jspanelstatuschange",o);let i,l,a;if(jsPanel.lastbeforeclose){i=jsPanel.lastbeforeclose.parent;l=jQuery(`.${jsPanel.lastbeforeclose.class}`,i);a=jsPanel.lastbeforeclose.class}if(l){l.each(function(e,t){t.classList.remove(a)});l.each(function(t,o){jsPanel.position(o,e.option.position)})}jsPanel.lastbeforeclose=false;if(t[2]===true){jQuery.noop()}else{if(jQuery.isFunction(e.option.onclosed)){e.option.onclosed.call(e,e)}}if(t[0]&&jQuery.isFunction(t[0])){t[0].call(e,e)}jsPanel.resetZis()}}jQuery(document).trigger("jspanelbeforeclose",o);if(jQuery.isFunction(e.option.onbeforeclose)){if(t[1]===true){jQuery.noop()}else{if(e.option.onbeforeclose.call(e,e)===false){return e}}}if(!n){l(e,t[0],t[2])}else if(typeof n==="number"&&n>0){window.setTimeout(function(){l(e,t[0],t[2])},n)}else{l(e,t[0],t[2])}},closeChildpanels(e){jQuery(".jsPanel",e).each((e,t)=>{t.jspanel.close()});return e},closePanels(e){jQuery(`.jsPanel-${e}`).each((e,t)=>{if(t.jspanel)t.jspanel.close()})},calcPositionFactors(e){if(e.option.container==="body"){e.hf=parseInt(e.css("left"),10)/(jQuery(window).outerWidth()-e.outerWidth());e.vf=parseInt(e.css("top"),10)/(jQuery(window).outerHeight()-e.outerHeight())}else{e.hf=parseInt(e.css("left"),10)/(e.parent().outerWidth()-e.outerWidth());e.vf=parseInt(e.css("top"),10)/(e.parent().outerHeight()-e.outerHeight())}},color(e){let t=e.toLowerCase(),o,s,n,i,l,a,r,c,f,d={};const p=/^#?([0-9a-f]{3}|[0-9a-f]{6})$/gi,u=/^rgba?\(([0-9]{1,3}),([0-9]{1,3}),([0-9]{1,3}),?(0|1|0\.[0-9]{1,2}|\.[0-9]{1,2})?\)$/gi,h=/^hsla?\(([0-9]{1,3}),([0-9]{1,3}\%),([0-9]{1,3}\%),?(0|1|0\.[0-9]{1,2}|\.[0-9]{1,2})?\)$/gi,m={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};if(m[t]){t=m[t]}if(t.match(p)!==null){t=t.replace("#","");if(t.length%2===1){o=String(t.substr(0,1))+t.substr(0,1);s=String(t.substr(1,1))+t.substr(1,1);n=String(t.substr(2,1))+t.substr(2,1);d.rgb={r:parseInt(o,16),g:parseInt(s,16),b:parseInt(n,16)};d.hex=`#${o}${s}${n}`}else{d.rgb={r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16)};d.hex=`#${t}`}f=this.rgbToHsl(d.rgb.r,d.rgb.g,d.rgb.b);d.hsl=f;d.rgb.css=`rgb(${d.rgb.r},${d.rgb.g},${d.rgb.b})`}else if(t.match(u)){r=u.exec(t);d.rgb={css:t,r:r[1],g:r[2],b:r[3]};d.hex=this.rgbToHex(r[1],r[2],r[3]);f=this.rgbToHsl(r[1],r[2],r[3]);d.hsl=f}else if(t.match(h)){r=h.exec(t);i=r[1]/360;l=r[2].substr(0,r[2].length-1)/100;a=r[3].substr(0,r[3].length-1)/100;c=this.hslToRgb(i,l,a);d.rgb={css:`rgb(${c[0]},${c[1]},${c[2]})`,r:c[0],g:c[1],b:c[2]};d.hex=this.rgbToHex(d.rgb.r,d.rgb.g,d.rgb.b);d.hsl={css:`hsl(${r[1]},${r[2]},${r[3]})`,h:r[1],s:r[2],l:r[3]}}else{d.hex="#f5f5f5";d.rgb={css:"rgb(245,245,245)",r:245,g:245,b:245};d.hsl={css:"hsl(0,0%,96.08%)",h:0,s:"0%",l:"96.08%"}}return d},configIconfont(e){const t=["remove","fullscreen","resize-full","minus","chevron-up","chevron-down"],o=["times fa-window-close","arrows-alt fa-window-maximize","expand fa-window-restore","minus fa-window-minimize","chevron-up","chevron-down"],s=["close","fullscreen","fullscreen_exit","call_received","expand_less","expand_more"],n=e.option.headerControls.iconfont,i=e.header.headerbar;if(n==="bootstrap"||n==="glyphicon"){this.controls.forEach((e,o)=>{jQuery(`.jsPanel-btn-${e} span`,i).removeClass().addClass(`glyphicon glyphicon-${t[o]}`)})}else if(n==="font-awesome"){this.controls.forEach((e,t)=>{jQuery(`.jsPanel-btn-${e} span`,i).removeClass().addClass(`fa fa-${o[t]}`)})}else if(n==="material-icons"){this.controls.forEach((e,t)=>{jQuery(`.jsPanel-btn-${e} span`,i).removeClass().addClass("material-icons").text(s[t])})}else if(Array.isArray(n)){this.controls.forEach((e,t)=>{jQuery(`.jsPanel-btn-${e} span`,i).removeClass().addClass(`custom-control-icon ${n[t]}`)})}},configToolbar(e,t,o){e.forEach(e=>{if(typeof e==="object"){const s=jQuery(e.item);if(typeof e.btntext==="string"){s.append(e.btntext)}if(typeof e.btnclass==="string"){e.btnclass.split(" ").forEach(function(e){s[0].classList.add(e)})}t.append(s);if(jQuery.isFunction(e.callback)){const t=e.event||"click";s.on(t,o,e.callback)}}})},contentReload(e,t){if(e.option.content){e.content.empty().append(e.option.content)}else if(e.option.contentAjax){e.content.empty();this.ajax(e)}else if(e.option.contentIframe){e.content.empty();this.iframe(e)}if(t&&jQuery.isFunction(t)){t.call(e,e)}return e},contentResize(e,t){const o=e.footer[0].classList.contains("active")?e.header.outerHeight()+e.footer.outerHeight():e.header.outerHeight(),s=parseInt(e.css("border-top-width"),10)+parseInt(e.css("border-bottom-width"),10);e.content.css({height:e.outerHeight()-o-s});if(t&&jQuery.isFunction(t)){t.call(e,e)}return e},createMinimizedReplacement(e){const t=jQuery(this.replacementTemplate),o=e.header.title.css("color"),s=e.header.title[0].textContent;let n;if(e.header.css("background-color")==="transparent"){n=e.css("background-color")}else{n=e.header.css("background-color")}e.css("left","-9999px").data("status","minimized");t.css("background-color",n).prop("id",`${e.prop("id")}-min`).find("h3").css("color",o).prop("title",s).html(s);if(e.header.logo.children().length){jQuery(".jsPanel-headerbar",t).prepend(e.header.logo.clone())}const i=e.option.headerControls.iconfont;if(i==="font-awesome"){jQuery(".jsglyph.jsglyph-normalize",t).removeClass().addClass("fa fa-expand fa-window-restore");jQuery(".jsglyph.jsglyph-maximize",t).removeClass().addClass("fa fa-arrows-alt fa-window-maximize");jQuery(".jsglyph.jsglyph-close",t).removeClass().addClass("fa fa-times fa-window-close")}else if(i==="bootstrap"||i==="glyphicon"){jQuery(".jsglyph.jsglyph-normalize",t).removeClass().addClass("glyphicon glyphicon-resize-full");jQuery(".jsglyph.jsglyph-maximize",t).removeClass().addClass("glyphicon glyphicon-fullscreen");jQuery(".jsglyph.jsglyph-close",t).removeClass().addClass("glyphicon glyphicon-remove")}else if(i==="material-icons"){jQuery(".jsglyph.jsglyph-normalize",t).removeClass().addClass("material-icons").text("call_made");jQuery(".jsglyph.jsglyph-maximize",t).removeClass().addClass("material-icons").text("fullscreen");jQuery(".jsglyph.jsglyph-close",t).removeClass().addClass("material-icons").text("close")}else if(Array.isArray(i)){jQuery(".jsglyph.jsglyph-normalize",t).removeClass().addClass(`custom-control-icon ${i[2]}`);jQuery(".jsglyph.jsglyph-maximize",t).removeClass().addClass(`custom-control-icon ${i[1]}`);jQuery(".jsglyph.jsglyph-close",t).removeClass().addClass(`custom-control-icon ${i[0]}`)}jQuery(".jsPanel-btn span",t).css({color:o});return t},darken(e,t){const o=this.color(e).hsl,s=parseFloat(o.l),n=s-s*t+"%";return`hsl(${o.h},${o.s},${n})`},dblclickhelper(e,t){if(typeof e==="string"){if(e==="maximize"||e==="normalize"){t.data("status")==="normalized"?t.maximize():t.normalize()}else if(e==="minimize"||e==="smallify"||e==="close"){t[e]()}}},dragit(e,t={}){let o;if(typeof e==="string"){o=document.querySelector(e)}else if(e.jquery){o=e[0]}else{o=e}let s=e.jquery?e:o;let n,i=Object.assign({},jQuery.jsPanel.defaults.dragit,t),l=i.containment,a,r,c,f=o.parentElement,d=window.getComputedStyle(o,null),p=d.getPropertyValue("position"),u=f.tagName.toLowerCase(),h=o.querySelector(".jsPanel-content"),m,g,j,b,y,P=[];if(jsPanel.isIE){m=document.createEvent("CustomEvent");g=document.createEvent("CustomEvent");j=document.createEvent("CustomEvent");m.initCustomEvent("dragstart",true,true,{});g.initCustomEvent("drag",true,true,{});j.initCustomEvent("dragstop",true,true,{})}else{m=new Event("dragstart");g=new Event("drag");j=new Event("dragstop")}c=i.handles?o.querySelectorAll(i.handles):[o];if(typeof l==="number"){l=[].concat(l,l,l,l)}else if(Object.prototype.toString.call(l)==="[object Array]"){if(l.length===2){l=l.concat(l)}else if(l.length===3){l[3]=l[1]}}if(Object.prototype.toString.call(l)==="[object Array]"){a=l;if(u==="body"){i.containment=l="window"}else{i.containment=l="parent"}}if(l&&u==="body"){i.containment=l="window"}for(let e=0;e<c.length;e++){jsPanel.evtStart.forEach(function(t){c[e].addEventListener(t,function(e){e.preventDefault();if(e.button&&e.button>0){return false}P=Array.prototype.slice.call(document.querySelectorAll("iframe"));if(P.length){P.forEach(function(e){e.style.pointerEvents="none"})}let t=o.getBoundingClientRect(),c=f.getBoundingClientRect(),d=window.getComputedStyle(f,null),h=d.getPropertyValue("position"),j=parseInt(d.getPropertyValue("border-left-width"),10),w=parseInt(d.getPropertyValue("border-right-width"),10),v=parseInt(d.getPropertyValue("border-top-width"),10),z=parseInt(d.getPropertyValue("border-bottom-width"),10),x,Q,C=e.touches?e.touches[0].pageX:e.pageX,E=e.touches?e.touches[0].pageY:e.pageY,k=window.scrollX||window.pageXOffset,L=window.scrollY||window.pageYOffset,O,T,$,F;if(p==="fixed"){x=t.left;Q=t.top}else if(u==="body"||h==="static"){x=t.left;Q=t.top}else if(u!=="body"){x=t.left-c.left-j+f.scrollLeft;Q=t.top-c.top-v+f.scrollTop}if(u==="body"&&l){if(p==="fixed"){O=0;$=0;T=document.documentElement.clientWidth-t.width;F=document.documentElement.clientHeight-t.height}else{O=k;$=L;T=document.documentElement.clientWidth-t.width+k;F=document.documentElement.clientHeight-t.height+L}}else{if(l==="parent"){if(h==="static"){O=c.left+j+k;$=c.top+v+L;T=O+c.width-t.width-j-w;F=$+c.height-t.height-v-z}else{O=0;$=0;T=c.width-t.width-j-w;F=c.height-t.height-v-z}}else if(l==="window"){if(h==="static"){O=k;$=L;T=document.documentElement.clientWidth-t.width+k;F=document.documentElement.clientHeight-t.height+L}else{O=-c.left-j;$=-c.top-v;T=document.documentElement.clientWidth-c.left-t.width-w;F=document.documentElement.clientHeight-c.top-t.height-z}}}if(a){O+=a[3];$+=a[0];T-=a[1];F-=a[2]}let S=parseFloat(o.style.left)-t.left,X=parseFloat(o.style.top)-t.top;if(f!==document.body){S+=c.left;X+=c.top}r=function(t){e.preventDefault();if(i.disableOnMaximized&&jQuery(o).data("status")==="maximized"){return false}if(!n){document.dispatchEvent(m);o.style.opacity=i.opacity;if(typeof i.start==="function"){i.start.call(s,s,{left:x,top:Q})}}n=1;document.dispatchEvent(g);b=j+x+(t.touches?t.touches[0].pageX:t.pageX)-C+S;y=v+Q+(t.touches?t.touches[0].pageY:t.pageY)-E+X;if(b<=O){b=O}else if(b>=T){b=T}if(y<=$){y=$}else if(y>=F){y=F}if(i.axis==="x"){o.style.left=b+"px"}else if(i.axis==="y"){o.style.top=y+"px"}else{o.style.left=b+"px";o.style.top=y+"px"}if(i.grid&&Array.isArray(i.grid)){if(i.grid.length===1){i.grid[1]=i.grid[0]}let e=parseFloat(o.style.left),t=parseFloat(o.style.top),s=e%i.grid[0],n=t%i.grid[1];if(s<i.grid[0]/2){o.style.left=e-s+"px"}else{o.style.left=e+(i.grid[0]-s)+"px"}if(n<i.grid[1]/2){o.style.top=t-n+"px"}else{o.style.top=t+(i.grid[1]-n)+"px"}}window.getSelection().removeAllRanges();if(typeof i.drag==="function"){i.drag.call(s,s,{left:parseFloat(s.css("left")),top:parseFloat(s.css("top"))})}};jsPanel.evtMove.forEach(function(e){document.addEventListener(e,r,false)})},false)})}jsPanel.evtEnd.forEach(function(t){document.addEventListener(t,function(){jsPanel.evtMove.forEach(function(e){document.removeEventListener(e,r,false)});if(n){h.style.pointerEvents="inherit";document.dispatchEvent(j);o.style.opacity=1;n=undefined;jsPanel.calcPositionFactors(e);if(typeof i.stop==="function"){i.stop.call(s,s,{left:parseFloat(s.css("left")),top:parseFloat(s.css("top"))})}}if(P.length){P.forEach(function(e){e.style.pointerEvents="inherit"})}},false)});return s},resizeit(e,t={}){let o;if(typeof e==="string"){o=document.querySelector(e)}else if(e.jquery){o=e[0]}else{o=e}let s=e.jquery?e:o;let n,i=Object.assign({},jQuery.jsPanel.defaults.resizeit,t),l=i.containment,a,r,c=window.getComputedStyle(o,null),f=c.getPropertyValue("position"),d=parseInt(c.getPropertyValue("border-left-width"),10),p=parseInt(c.getPropertyValue("border-top-width"),10),u=parseInt(c.getPropertyValue("border-right-width"),10),h=parseInt(c.getPropertyValue("border-bottom-width"),10),m=o.parentElement,g=m.tagName.toLowerCase(),j=o.querySelector(".jsPanel-content"),b=typeof i.maxWidth==="function"?i.maxWidth():i.maxWidth,y=typeof i.maxHeight==="function"?i.maxHeight():i.maxHeight,P=typeof i.minWidth==="function"?i.minWidth():i.minWidth,w=typeof i.minHeight==="function"?i.minHeight():i.minHeight,v,z,x,Q=[];if(jsPanel.isIE){v=document.createEvent("CustomEvent");z=document.createEvent("CustomEvent");x=document.createEvent("CustomEvent");v.initCustomEvent("dragstart",true,true,{});z.initCustomEvent("drag",true,true,{});x.initCustomEvent("dragstop",true,true,{})}else{v=new Event("dragstart");z=new Event("drag");x=new Event("dragstop")}if(typeof l==="number"){l=[].concat(l,l,l,l)}else if(Object.prototype.toString.call(l)==="[object Array]"){if(l.length===2){l=l.concat(l)}else if(l.length===3){l[3]=l[1]}}if(Object.prototype.toString.call(l)==="[object Array]"){a=l;if(g==="body"){i.containment=l="window"}else{i.containment=l="parent"}}if(l&&g==="body"){i.containment=l="window"}i.handles.split(",").forEach(function(e){let t=document.createElement("DIV");t.className=`jsPanel-resizeit-handle jsPanel-resizeit-${e.trim()}`;t.style.zIndex=90;o.appendChild(t)});let C=o.getElementsByClassName("jsPanel-resizeit-handle");for(let t=0;t<C.length;t++){jsPanel.evtStart.forEach(function(c){C[t].addEventListener(c,function(t){t.preventDefault();if(t.button&&t.button>0){return false}Q=Array.prototype.slice.call(document.querySelectorAll("iframe"));if(Q.length){Q.forEach(function(e){e.style.pointerEvents="none"})}let c=o.getBoundingClientRect(),x=m.getBoundingClientRect(),C=window.getComputedStyle(m,null),E=C.getPropertyValue("position"),k=parseInt(C.getPropertyValue("border-left-width"),10),L=parseInt(C.getPropertyValue("border-top-width"),10),O=parseInt(C.getPropertyValue("border-bottom-width"),10),T=t.pageX||t.touches[0].pageX,$=t.pageY||t.touches[0].pageY,F=window.scrollX||window.pageXOffset,S=c.width,X=c.height,Y,I,R=t.target,A=1e4,B=1e4,H=1e4,M=1e4;j.style.pointerEvents="none";if(f==="fixed"){Y=c.left-d-u;I=c.top-p-h}else if(g==="body"||E==="static"){Y=c.left-d-u;I=c.top-p-h}else if(g!=="body"){Y=c.left-x.left-k+m.scrollLeft-d-u;I=c.top-x.top-L+m.scrollTop-p-h}if(g==="body"&&l){A=document.documentElement.clientWidth-c.left-d-u;H=document.documentElement.clientHeight-c.top-p-h;B=c.width+c.left-d-u;M=c.height+c.top-p-h}else{if(l==="parent"){if(E==="static"){A=x.width-c.left-d-F;H=x.height+x.top-c.top+p-L-O;B=c.width+(c.left-x.left)-k;M=c.height+(c.top-x.top)-L}else{A=m.clientWidth-(c.left-x.left)+d;H=m.clientHeight-(c.top-x.top)+p;B=c.width+(c.left-x.left)-k-d-u;M=o.clientHeight+(c.top-x.top)-p-p-h}}else if(l==="window"){A=document.documentElement.clientWidth-c.left-d-u;H=document.documentElement.clientHeight-c.top-p-h;B=c.left+c.width-d-u;M=c.top+c.height-p-h}}if(a){B-=a[3];M-=a[0];A-=a[1];H-=a[2]}let W=window.getComputedStyle(o),D=parseFloat(W.width)-c.width,q=parseFloat(W.height)-c.height,N=parseFloat(W.left)-c.left,V=parseFloat(W.top)-c.top;if(m!==document.body){N+=x.left;V+=x.top}r=function(t){t.preventDefault();if(!n){document.dispatchEvent(v);if(typeof i.start==="function"){i.start.call(s,s,{width:S,height:X})}}n=1;document.dispatchEvent(z);if(R.classList.contains("jsPanel-resizeit-e")){let e=S+(t.pageX||t.touches[0].pageX)-T+D;if(e>=A){e=A}if(e>=b){e=b}else if(e<=P){e=P}o.style.width=e+"px"}else if(R.classList.contains("jsPanel-resizeit-se")){let e=S+(t.pageX||t.touches[0].pageX)-T+D,s=X+(t.pageY||t.touches[0].pageY)-$+q;if(e>=A){e=A}if(s>=H){s=H}if(e>=b){e=b}else if(e<=P){e=P}if(s>=y){s=y}else if(s<=w){s=w}o.style.width=e+"px";o.style.height=s+"px"}else if(R.classList.contains("jsPanel-resizeit-s")){let e=X+(t.pageY||t.touches[0].pageY)-$+q;if(e>=H){e=H}if(e>=y){e=y}else if(e<=w){e=w}o.style.height=e+"px"}else if(R.classList.contains("jsPanel-resizeit-w")){let e=S+T-(t.pageX||t.touches[0].pageX)+D;if(e<=b&&e>=P&&e<=B){o.style.left=Y+k+(t.pageX||t.touches[0].pageX)-T+N+"px"}if(e>=B){e=B}if(e>=b){e=b}else if(e<=P){e=P}o.style.width=e+"px"}else if(R.classList.contains("jsPanel-resizeit-n")){let e=X+$-(t.pageY||t.touches[0].pageY)+q;if(e<=y&&e>=w&&e<=M){o.style.top=I+L+(t.pageY||t.touches[0].pageY)-$+V+"px"}if(e>=M){e=M}if(e>=y){e=y}else if(e<=w){e=w}o.style.height=e+"px"}else if(R.classList.contains("jsPanel-resizeit-sw")){let e=X+(t.pageY||t.touches[0].pageY)-$+q;if(e>=H){e=H}if(e>=y){e=y}else if(e<=w){e=w}o.style.height=e+"px";let s=S+T-(t.pageX||t.touches[0].pageX)+D;if(s<=b&&s>=P&&s<=B){o.style.left=Y+k+(t.pageX||t.touches[0].pageX)-T+N+"px"}if(s>=B){s=B}if(s>=b){s=b}else if(s<=P){s=P}o.style.width=s+"px"}else if(R.classList.contains("jsPanel-resizeit-nw")){let e=X+$-(t.pageY||t.touches[0].pageY)+q;if(e<=y&&e>=w&&e<=M){o.style.top=I+L+(t.pageY||t.touches[0].pageY)-$+V+"px"}if(e>=M){e=M}if(e>=y){e=y}else if(e<=w){e=w}o.style.height=e+"px";let s=S+T-(t.pageX||t.touches[0].pageX)+D;if(s<=b&&s>=P&&s<=B){o.style.left=Y+k+(t.pageX||t.touches[0].pageX)-T+N+"px"}if(s>=B){s=B}if(s>=b){s=b}else if(s<=P){s=P}o.style.width=s+"px"}else if(R.classList.contains("jsPanel-resizeit-ne")){let e=X+$-(t.pageY||t.touches[0].pageY)+q;if(e<=y&&e>=w&&e<=M){o.style.top=I+L+(t.pageY||t.touches[0].pageY)-$+V+"px"}if(e>=M){e=M}if(e>=y){e=y}else if(e<=w){e=w}o.style.height=e+"px";let s=S+(t.pageX||t.touches[0].pageX)-T+D;if(s>=A){s=A}if(s>=b){s=b}else if(s<=P){s=P}o.style.width=s+"px"}jsPanel.contentResize(e);window.getSelection().removeAllRanges();if(typeof i.resize==="function"){i.resize.call(s,s,{width:parseFloat(s.css("width")),height:parseFloat(s.css("height"))})}};jsPanel.evtMove.forEach(function(e){document.addEventListener(e,r,false)});window.addEventListener("mouseout",function(e){if(e.relatedTarget===null){jsPanel.evtMove.forEach(function(e){document.removeEventListener(e,r,false)})}},false)},false)})}jsPanel.evtEnd.forEach(function(t){document.addEventListener(t,function(t){if(t.target.classList&&t.target.classList.contains("jsPanel-resizeit-handle")){let s,n,l=t.target.className;if(l.match(/jsPanel-resizeit-nw|jsPanel-resizeit-w|jsPanel-resizeit-sw/i)){s=true}if(l.match(/jsPanel-resizeit-nw|jsPanel-resizeit-n|jsPanel-resizeit-ne/i)){n=true}if(i.grid&&Array.isArray(i.grid)){if(i.grid.length===1){i.grid[1]=i.grid[0]}let e=parseFloat(o.style.width),t=parseFloat(o.style.height),l=e%i.grid[0],a=t%i.grid[1],r=parseFloat(o.style.left),c=parseFloat(o.style.top),f=r%i.grid[0],d=c%i.grid[1];if(l<i.grid[0]/2){o.style.width=e-l+"px"}else{o.style.width=e+(i.grid[0]-l)+"px"}if(a<i.grid[1]/2){o.style.height=t-a+"px"}else{o.style.height=t+(i.grid[1]-a)+"px"}if(s){if(f<i.grid[0]/2){o.style.left=r-f+"px"}else{o.style.left=r+(i.grid[0]-f)+"px"}}if(n){if(d<i.grid[1]/2){o.style.top=c-d+"px"}else{o.style.top=c+(i.grid[1]-d)+"px"}}}jsPanel.contentResize(e)}jsPanel.evtMove.forEach(function(e){document.removeEventListener(e,r,false)});if(n){j.style.pointerEvents="inherit";document.dispatchEvent(x);n=undefined;if((jQuery(o).data("status")==="smallified"||jQuery(o).data("status")==="smallifiedMax")&&jQuery(o).height()>jQuery(o).header.height()){jQuery(o).hideControls([".jsPanel-btn-normalize",".jsPanel-btn-smallifyrev"]);jQuery(o).data("status","normalized");jQuery(document).trigger("jspanelnormalized");jQuery(document).trigger("jspanelstatuschange")}jsPanel.calcPositionFactors(e);if(typeof i.stop==="function"){i.stop.call(s,s,{width:parseFloat(s.css("width")),height:parseFloat(s.css("height"))})}}if(Q.length){Q.forEach(function(e){e.style.pointerEvents="inherit"})}},false)});return s},exportPanels(e=".jsPanel",t="jspanels"){let o=[];const s=jQuery(".jsPanel").not(".jsPanel-tooltip, .jsPanel-hint, .jsPanel-modal").filter(e);s.each((e,t)=>{if(jQuery(t).data("status")!=="normalized"){jQuery(".jsPanel-btn-normalize",t).trigger("click")}});s.each((e,t)=>{let s,n,i,l,a;const r=jQuery(t).data("container"),c=jQuery(t).offset(),f=jQuery(t).position(),d=jQuery(t).data("status");if(d==="minimized"){if(r.toLowerCase()==="body"){s=jQuery(t).data("paneltop")-jQuery(window).scrollTop();n=jQuery(t).data("panelleft")-jQuery(window).scrollLeft()}else{s=jQuery(t).data("paneltop");n=jQuery(t).data("panelleft")}i=jQuery(t).data("panelwidth");l=jQuery(t).data("panelheight")}else{if(r.toLowerCase()==="body"){s=Math.floor(c.top-jQuery(window).scrollTop());n=Math.floor(c.left-jQuery(window).scrollLeft())}else{s=Math.floor(f.top);n=Math.floor(f.left)}i=jQuery(t).css("width");l=jQuery(".jsPanel-content",t).css("height")}a={status:jQuery(t).data("status"),id:jQuery(t).prop("id"),headerTitle:jQuery(".jsPanel-title",t).html(),custom:jQuery(t).data("custom"),content:jQuery(t).data("content"),contentSize:{width:i,height:l},position:{my:"left-top",at:"left-top",offsetX:n,offsetY:s}};if(jQuery(t).data("ajaxURL")){a.contentAjax={url:jQuery(t).data("ajaxURL"),autoload:true}}if(jQuery(t).data("iframeDOC")||jQuery(t).data("iframeSRC")){a.contentIframe={src:jQuery(t).data("iframeSRC")||"",srcdoc:jQuery(t).data("iframeDOC")||""}}o.push(a);switch(a.status){case"minimized":jQuery(".jsPanel-btn-minimize",t).trigger("click");break;case"maximized":jQuery(".jsPanel-btn-maximize",t).trigger("click");break;case"smallified":jQuery(".jsPanel-btn-smallify",t).trigger("click");break;case"smallifiedMax":jQuery(".jsPanel-btn-smallify",t).trigger("click");break}});window.localStorage.setItem(t,JSON.stringify(o));return o},front(e,t){e.css("z-index",this.setZi(e));this.resetZis();jQuery(document).trigger("jspanelfronted",e.prop("id"));if(jQuery.isFunction(e.option.onfronted)){if(e.option.onfronted.call(e,e)===false){return e}else{e.option.onfronted.call(e,e)}}if(t&&jQuery.isFunction(t)){t.call(e,e)}return e},getThemeDetails(e){const t={color:false,colors:false,filling:false,bs:false,bstheme:false};if(e.substr(-6,6)==="filled"){t.filling="filled";t.color=e.substr(0,e.length-6)}else if(e.substr(-11,11)==="filledlight"){t.filling="filledlight";t.color=e.substr(0,e.length-11)}else{t.filling="";t.color=e}t.colors=this.calcColors(t.color);if(t.color.match("-")){const e=t.color.split("-");t.bs=e[0];t.bstheme=e[1];t.mdbStyle=e[2]||undefined}return t},getTopmostPanel(){let e=[];jQuery(".jsPanel:not(.jsPanel-tooltip):not(.jsPanel-hint)").each(function(t,o){e.push(o)});e.sort(function(e,t){return jQuery(t).css("z-index")-jQuery(e).css("z-index")});return e[0].getAttribute("id")},headerTitle(e,t){if(t){e.header.title.empty().append(t);return e}return e.header.title.html()},headerControl(e,t,o="enable"){if(t){this.setControlStatus(e,t,o)}else{this.controls.forEach(function(t){jsPanel.setControlStatus(e,t)})}return e},hslToRgb(e,t,o){let s,n,i;if(t===0){s=n=i=o}else{let l=function e(t,o,s){if(s<0){s+=1}if(s>1){s-=1}if(s<1/6){return t+(o-t)*6*s}if(s<1/2){return o}if(s<2/3){return t+(o-t)*(2/3-s)*6}return t};let a=o<.5?o*(1+t):o+t-o*t,r=2*o-a;s=l(r,a,e+1/3);n=l(r,a,e);i=l(r,a,e-1/3)}return[Math.round(s*255),Math.round(n*255),Math.round(i*255)]},iframe(e){let t=jQuery("<iframe></iframe>");const o=e.option.contentIframe;if(o.srcdoc){t.prop("srcdoc",o.srcdoc);e.data("iframeDOC",o.srcdoc)}if(o.src){t.prop("src",o.src);e.data("iframeSRC",o.src)}e.option.contentSize.width!=="auto"&&!o.width?t.css("width","100%"):t.prop("width",o.width);e.option.contentSize.height!=="auto"&&!o.height?t.css("height","100%"):t.prop("height",o.height);if(o.name){t.prop("name",o.name)}if(o.sandbox){t.prop("sandox",o.sandbox)}if(o.id){t.prop("id",o.id)}if(jQuery.isPlainObject(o.style)){t.css(o.style)}if(typeof o.classname==="string"){t.addClass(o.classname)}else if(jQuery.isFunction(o.classname)){t.addClass(o.classname())}e.content.append(t)},importPanels(e,t="jspanels"){const o=e["default"]||{};let s;JSON.parse(localStorage[t]).forEach(t=>{if(typeof t.custom.config==="string"){s=jQuery.extend(true,{},o,e[t.custom.config],t)}else{s=jQuery.extend(true,{},o,t)}jQuery.jsPanel(s)})},insertModalBackdrop(e){const t=jQuery(".jsPanel-modal-backdrop").length,o=t===0?"jsPanel-modal-backdrop":"jsPanel-modal-backdrop jsPanel-modal-backdrop-multi",s=`<div id="jsPanel-modal-backdrop-${e.attr("id")}" class="${o}" style="z-index:${this.modalcount+9999}"></div>`;jQuery("body").append(s);this.modalcount+=1},removeModalBackdrop(e){const t=jQuery(`#jsPanel-modal-backdrop-${e.attr("id")}`);t[0].classList.add("jsPanel-modal-backdrop-out");const o=parseFloat(t.css("animation-duration"),10)*1e3;window.setTimeout(function(){t.remove()},o);this.modalcount-=1},lighten(e,t){const o=this.color(e).hsl,s=parseFloat(o.l),n=s+(100-s)*t+"%";return`hsl(${o.h},${o.s},${n})`},maximize(e,t,o=true){let s=e.option.maximizedMargin,n=e[0].parentNode,i=e.attr("id");if(jQuery.isPlainObject(s)){let e=typeof s.top==="number"?s.top:5;let t=typeof s.right==="number"?s.right:5;let o=typeof s.bottom==="number"?s.bottom:5;let n=typeof s.left==="number"?s.left:5;s=[e,t,o,n]}if(typeof s==="number"){s=[].concat(s,s,s,s)}else if(jQuery.isArray(s)&&s.length===2){s=s.concat(s)}else if(jQuery.isArray(s)&&s.length===3){s[3]=s[1]}if(e.data("status")==="normalized"){e.updateCachedData()}jQuery(document).trigger("jspanelbeforemaximize",i);if(jQuery.isFunction(e.option.onbeforemaximize)&&e.option.onbeforemaximize.call(e,e)===false){return e}e.css("overflow","visible");if(n===document.body){e.css({width:document.documentElement.clientWidth-s[3]-s[1]+"px",height:document.documentElement.clientHeight-s[0]-s[2]+"px",left:s[3]+"px",top:s[0]+"px"});if(e.option.position.fixed===false){e.css({left:window.pageXOffset+s[3]+"px",top:window.pageYOffset+s[0]+"px"})}}else{e.css({width:n.clientWidth-s[3]-s[1]+"px",height:n.clientHeight-s[0]-s[2]+"px",left:s[3]+"px",top:s[0]+"px"})}e.contentResize().data("status","maximized");if(o){e.css("z-index",this.setZi(e))}e.hideControls([".jsPanel-btn-maximize",".jsPanel-btn-smallifyrev"]);this.remMinReplacement(e);jQuery(document).trigger("jspanelmaximized",i);jQuery(document).trigger("jspanelstatuschange",i);if(jQuery.isFunction(e.option.onmaximized)){e.option.onmaximized.call(e,e)}if(t&&jQuery.isFunction(t)){t.call(e,e)}return e},minimize(e,t){const o=e.attr("id");if(e.data("status")==="minimized"){return e}jQuery(document).trigger("jspanelbeforeminimize",o);if(jQuery.isFunction(e.option.onbeforeminimize)&&e.option.onbeforeminimize.call(e,e)===false){return e}const s=e.data("status");if(s==="normalized"){e.updateCachedData()}else if(s==="smallified"){e.cachedData.top=e.css("top");e.cachedData.left=e.css("left")}const n=this.createMinimizedReplacement(e);const i=jQuery(e.option.container).closest(".jsPanel-content");if(!i.length){let t="#jsPanel-replacement-container";if(e.option.minimizeTo){if(typeof e.option.minimizeTo==="string"){t=e.option.minimizeTo}jQuery(t).append(n)}}else{let t=".jsPanel-minimized-box";if(e.option.minimizeTo){if(typeof e.option.minimizeTo==="string"){t=e.option.minimizeTo;jQuery(t).append(n)}else{jQuery(t,i.parent()).append(n)}}}jQuery(document).trigger("jspanelminimized",o);jQuery(document).trigger("jspanelstatuschange",o);if(jQuery.isFunction(e.option.onminimized)){e.option.onminimized.call(e,e)}if(t&&jQuery.isFunction(t)){t.call(e,e)}jQuery(".jsPanel-btn-normalize",n).css("display","block").on("click",()=>e.normalize());if(e[0].dataset.btnnormalize==="disabled"){jQuery(".jsPanel-btn-normalize",n).css({pointerEvents:"none",opacity:.5,cursor:"default"})}else if(e[0].dataset.btnnormalize==="removed"){jQuery(".jsPanel-btn-normalize",n).remove()}jQuery(".jsPanel-btn-maximize",n).on("click",()=>e.maximize());if(e[0].dataset.btnmaximize==="disabled"){jQuery(".jsPanel-btn-maximize",n).css({pointerEvents:"none",opacity:.5,cursor:"default"})}else if(e[0].dataset.btnmaximize==="removed"){jQuery(".jsPanel-btn-maximize",n).remove()}jQuery(".jsPanel-btn-close",n).on("click",()=>e.close());if(e[0].dataset.btnclose==="disabled"){jQuery(".jsPanel-btn-close",n).css({pointerEvents:"none",opacity:.5,cursor:"default"})}return e},normalize(e,t){const o=e.attr("id");if(e.data("status")==="normalized"){return e}jQuery(document).trigger("jspanelbeforenormalize",o);if(jQuery.isFunction(e.option.onbeforenormalize)&&e.option.onbeforenormalize.call(e,e)===false){return e}if(e.data("status")==="smallified"){e.smallify();jQuery(document).trigger("jspanelnormalized",o);jQuery(document).trigger("jspanelstatuschange",o);if(jQuery.isFunction(e.option.onnormalized)){e.option.onnormalized.call(e,e)}return e}e.css({left:e.cachedData.left,top:e.cachedData.top,width:e.cachedData.width,height:e.cachedData.height,zIndex:function(){jsPanel.setZi(e)},overflow:"visible"}).data("status","normalized").contentResize();e.hideControls([".jsPanel-btn-normalize",".jsPanel-btn-smallifyrev"]);this.remMinReplacement(e);jQuery(document).trigger("jspanelnormalized",o);jQuery(document).trigger("jspanelstatuschange",o);if(jQuery.isFunction(e.option.onnormalized)){e.option.onnormalized.call(e,e)}if(t&&jQuery.isFunction(t)){t.call(e,e)}return e},noscroll(e){e.preventDefault()},perceivedBrightness(e){const t=this.color(e).rgb;return t.r/255*.2627+t.g/255*.678+t.b/255*.0593},position(e,t){let o,s,n,i,l=0,a=0,r,c,f,d={my:"center",at:"center",offsetX:0,offsetY:0,modify:false,fixed:"true"};const p=["left-top","left-center","left-bottom"],u=["center-top","center","center-bottom"],h=["right-top","right-center","right-bottom"],m=["left-top","center-top","right-top"],g=["left-center","center","right-center"],j=["left-bottom","center-bottom","right-bottom"];function b(e){let t={};if(p.indexOf(e)>-1){t.left=window.pageXOffset}else if(u.indexOf(e)>-1){t.left=window.pageXOffset+document.documentElement.clientWidth/2}else if(h.indexOf(e)>-1){t.left=window.pageXOffset+document.documentElement.clientWidth}else{t.left=window.pageXOffset}if(m.indexOf(e)>-1){t.top=window.pageYOffset}else if(g.indexOf(e)>-1){t.top=window.pageYOffset+window.innerHeight/2}else if(j.indexOf(e)>-1){t.top=window.pageYOffset+window.innerHeight}else{t.top=window.pageYOffset}return t}function y(e){let t={},o=v(n.of);if(p.indexOf(e)>-1){t.left=o.left}else if(u.indexOf(e)>-1){t.left=o.left+o.width/2}else if(h.indexOf(e)>-1){t.left=o.left+o.width}else{t.left=o.left}if(m.indexOf(e)>-1){t.top=o.top}else if(g.indexOf(e)>-1){t.top=o.top+o.height/2}else if(j.indexOf(e)>-1){t.top=o.top+o.height}else{t.top=o.top}return t}function P(e){let t={},o=i.getBoundingClientRect();if(p.indexOf(e)>-1){t.left=0}else if(u.indexOf(e)>-1){t.left=o.width/2}else if(h.indexOf(e)>-1){t.left=o.width}else{t.left=0}if(m.indexOf(e)>-1){t.top=0}else if(g.indexOf(e)>-1){t.top=o.height/2}else if(j.indexOf(e)>-1){t.top=o.height}else{t.top=0}return t}function w(e){let t={};const o=i.getBoundingClientRect(),s=document.querySelector(n.of).getBoundingClientRect(),l=s.left-o.left,a=s.top-o.top;if(p.indexOf(e)>-1){t.left=l}else if(u.indexOf(e)>-1){t.left=l+s.width/2}else if(h.indexOf(e)>-1){t.left=l+s.width}else{t.left=l}if(m.indexOf(e)>-1){t.top=a}else if(g.indexOf(e)>-1){t.top=a+s.height/2}else if(j.indexOf(e)>-1){t.top=a+s.height}else{t.top=a}return t}function v(e){let t;if(e.jquery){t=e[0].getBoundingClientRect()}else if(typeof e==="string"){t=document.querySelector(e).getBoundingClientRect()}else{t=e.getBoundingClientRect()}return{width:Math.round(t.width),height:Math.round(t.height),left:Math.round(t.left+window.pageXOffset),top:Math.round(t.top+window.pageYOffset)}}if(typeof t==="string"){const e=/\b[a-z]{4,6}-{1}[a-z]{3,6}\b/,o=/DOWN|UP|RIGHT|LEFT/,s=/[+-]?\d+\.?\d*%?/g,n=t.match(e),i=t.match(o),l=t.match(s);let a;if(jQuery.isArray(n)){a={my:n[0],at:n[0]}}else{a={my:"center",at:"center"}}if(jQuery.isArray(i)){a.autoposition=i[0]}if(jQuery.isArray(l)){a.offsetX=l[0];if(l.length===2){a.offsetY=l[1]}}t=a}else{const e=t.left===0||t.left;const o=t.top===0||t.top;const s=t.right===0||t.right;const n=t.bottom===0||t.bottom;if(e&&o){t.my="left-top";t.at="left-top";t.offsetX=t.left;t.offsetY=t.top}else if(e&&n){t.my="left-bottom";t.at="left-bottom";t.offsetX=t.left;t.offsetY=-t.bottom}else if(s&&o){t.my="right-top";t.at="right-top";t.offsetX=-t.right;t.offsetY=t.top}else if(s&&n){t.my="right-bottom";t.at="right-bottom";t.offsetX=-t.right;t.offsetY=-t.bottom}}n=Object.assign(d,t);if(typeof e==="string"){o=document.querySelector(e)}else if(e.jquery){o=e[0]}else{o=e}if(typeof t==="boolean"&&t===false){o.style.opacity=1;return o}i=o.parentElement||document.body;if(!n.of){i===document.body?n.of="window":n.of=i}s=v(o);if(typeof n.offsetX==="string"&&n.offsetX.slice(-1)==="%"){if(n.of==="window"){n.offsetX=window.innerWidth*(parseInt(n.offsetX,10)/100)}else{n.offsetX=i.clientWidth*(parseInt(n.offsetX,10)/100)}}else if(typeof n.offsetX==="string"){n.offsetX=parseFloat(n.offsetX)}else if(jQuery.isFunction(n.offsetX)){n.offsetX=parseInt(n.offsetX.call(e,e),10)}if(typeof n.offsetY==="string"&&n.offsetY.slice(-1)==="%"){if(n.of==="window"){n.offsetY=window.innerHeight*(parseInt(n.offsetY,10)/100)}else{n.offsetY=i.clientHeight*(parseInt(n.offsetY,10)/100)}}else if(typeof n.offsetY==="string"){n.offsetY=parseFloat(n.offsetY)}else if(jQuery.isFunction(n.offsetY)){n.offsetY=parseInt(n.offsetY.call(e,e),10)}if(p.indexOf(n.my)>-1){l=0}else if(u.indexOf(n.my)>-1){l=s.width/2}else if(h.indexOf(n.my)>-1){l=s.width}if(m.indexOf(n.my)>-1){a=0}else if(g.indexOf(n.my)>-1){a=s.height/2}else if(j.indexOf(n.my)>-1){a=s.height}if(i===document.body){if(n.of==="window"){const e=b(n.at);if(n.fixed){c=e.left-l+n.offsetX-window.pageXOffset;f=e.top-a+n.offsetY-window.pageYOffset}else{c=e.left-l+n.offsetX;f=e.top-a+n.offsetY}}else{const e=y(n.at);c=e.left-l+n.offsetX;f=e.top-a+n.offsetY}}else{let e,t;if(typeof n.of==="string"){t=document.querySelector(n.of)}else if(n.of.jquery){t=n.of[0]}else{t=n.of}if(i===t){e=P(n.at);c=e.left-l+n.offsetX;f=e.top-a+n.offsetY}else{e=w(n.at);c=e.left-l+n.offsetX;f=e.top-a+n.offsetY}}if(n.autoposition){let e,t=[];if(n.my===n.at){e=n.my}o.classList.add(e);t=Array.prototype.slice.call(i.getElementsByClassName(e));if(n.autoposition==="DOWN"){t.forEach(function(e,o){if(o>0){f+=t[--o].getBoundingClientRect().height+jsPanel.autopositionSpacing}})}else if(n.autoposition==="UP"){t.forEach(function(e,o){if(o>0){f-=t[--o].getBoundingClientRect().height+jsPanel.autopositionSpacing}})}else if(n.autoposition==="RIGHT"){t.forEach(function(e,o){if(o>0){c+=t[--o].getBoundingClientRect().width+jsPanel.autopositionSpacing}})}else if(n.autoposition==="LEFT"){t.forEach(function(e,o){if(o>0){c-=t[--o].getBoundingClientRect().width+jsPanel.autopositionSpacing}})}}r={left:c,top:f};if((n.minLeft||n.minLeft===0)&&typeof n.minLeft==="number"&&r.left<n.minLeft){r.left=n.minLeft}if((n.maxLeft||n.maxLeft===0)&&typeof n.maxLeft==="number"&&r.left>n.maxLeft){r.left=n.maxLeft}if((n.minTop||n.minTop===0)&&typeof n.minTop==="number"&&r.top<n.minTop){r.top=n.minTop}if((n.maxTop||n.maxTop===0)&&typeof n.maxTop==="number"&&r.top>n.maxTop){r.top=n.maxTop}if(typeof n.modify==="function"){r=n.modify.call(r,r)}o.style.position="absolute";o.style.left=`${r.left}px`;o.style.top=`${r.top}px`;if(n.of==="window"&&n.fixed&&i===document.body){o.style.position="fixed"}return o},remMinReplacement(e){jQuery(`[id^="${e.prop("id")}-min"]`).remove()},reposition(e,t=e.option.position,o){if(e.data("status")!=="minimized"){e.option.position=t;if(e.option.paneltype.tooltip){const t=e.attr("class").split(" ");jQuery.each(t,function(t,o){if(o.indexOf("jsPanel-tooltip-")===0){e.removeClass(o)}});this.setTooltipClass(e);jQuery(".jsPanel-connector",e).remove();if(e.option.paneltype.connector){this.addConnector(e)}}this.position(e,t)}if(o&&jQuery.isFunction(o)){o.call(e,e)}return e},resetZis(){let e=[];jQuery(".jsPanel:not(.jsPanel-modal):not(.jsPanel-hint)").each(function(t,o){e.push(o)});e.sort(function(e,t){return jQuery(e).css("z-index")-jQuery(t).css("z-index")}).forEach(function(e,t){if((jsPanel.zi+=1)>jQuery(e).css("z-index")){jQuery(e).css("z-index",jsPanel.ziBase+t)}});this.zi=this.ziBase-1+e.length},resize(e,t){if(e.data("status")!=="minimized"){if(jQuery.isFunction(e.option.onbeforeresize)&&e.option.onbeforeresize.call(e,e)===false){return e}if(jQuery.isPlainObject(t)){let o=jQuery.extend({},false,jQuery.jsPanel.resizedefaults,t),s,n;if(o.width&&o.width==="auto"){e.content.css("width","auto");e.css("width","auto");e.css("width",e.outerWidth())}else if(o.width){e.css("width",o.width)}if(o.height&&o.height==="auto"){e.content.css("height","auto");e.css("height","auto")}else if(o.height){e.css("height",o.height)}s=e.outerWidth();n=e.outerHeight();if(o.minwidth&&s<o.minwidth){e.css("width",o.minwidth)}if(o.maxwidth&&s>o.maxwidth){e.css("width",o.maxwidth)}if(o.minheight&&n<o.minheight){e.css("height",o.minheight)}if(o.maxheight&&n>o.maxheight){e.css("height",o.maxheight)}this.contentResize(e);if(jQuery.isFunction(e.option.onresized)){if(e.option.onresized.call(e,e)===false){return e}}if(o.callback&&jQuery.isFunction(o.callback)){o.callback.call(e,e)}}}return e},rgbToHsl(e,t,o){e/=255,t/=255,o/=255;let s=Math.max(e,t,o),n=Math.min(e,t,o),i,l,a=(s+n)/2;if(s===n){i=l=0}else{let r=s-n;l=a>.5?r/(2-s-n):r/(s+n);switch(s){case e:i=(t-o)/r+(t<o?6:0);break;case t:i=(o-e)/r+2;break;case o:i=(e-t)/r+4;break}i/=6}i=i*360;l=l*100+"%";a=a*100+"%";return{css:"hsl("+i+","+l+","+a+")",h:i,s:l,l:a}},rgbToHex(e,t,o){let s=Number(e).toString(16),n=Number(t).toString(16),i=Number(o).toString(16);if(s.length===1){s=`0${s}`}if(n.length===1){n=`0${n}`}if(i.length===1){i=`0${i}`}return`#${s}${n}${i}`},setControlStatus(e,t,o="enable"){const s=e.header.headerbar,n=e[0];if(o==="disable"){if(n.getAttribute(`data-btn${t}`)!=="removed"){n.setAttribute(`data-btn${t}`,"disabled");jQuery(`.jsPanel-btn-${t}`,s).css({pointerEvents:"none",opacity:.4,cursor:"default"})}}else if(o==="enable"){if(n.getAttribute(`data-btn${t}`)!=="removed"){n.setAttribute(`data-btn${t}`,"enabled");jQuery(`.jsPanel-btn-${t}`,s).css({pointerEvents:"auto",opacity:1,cursor:"pointer"})}}else if(o==="remove"){jQuery(`.jsPanel-btn-${t}`,s).remove();n.setAttribute(`data-btn${t}`,"removed")}},setTooltipClass(e){const t=e.option.position.my+e.option.position.at;if(t==="center-bottomcenter-top"){e[0].classList.add("jsPanel-tooltip-top")}else if(t==="left-bottomright-top"){e[0].classList.add("jsPanel-tooltip-righttopcorner")}else if(t==="left-centerright-center"){e[0].classList.add("jsPanel-tooltip-right")}else if(t==="left-topright-bottom"){e[0].classList.add("jsPanel-tooltip-rightbottomcorner")}else if(t==="center-topcenter-bottom"){e[0].classList.add("jsPanel-tooltip-bottom")}else if(t==="right-topleft-bottom"){e[0].classList.add("jsPanel-tooltip-leftbottomcorner")}else if(t==="right-centerleft-center"){e[0].classList.add("jsPanel-tooltip-left")}else if(t==="right-bottomleft-top"){e[0].classList.add("jsPanel-tooltip-lefttopcorner")}else if(t==="centercenter"){e[0].classList.add("jsPanel-tooltip-center")}else if(t==="right-topleft-top"){e[0].classList.add("jsPanel-tooltip-lefttop")}else if(t==="right-bottomleft-bottom"){e[0].classList.add("jsPanel-tooltip-leftbottom")}else if(t==="left-bottomleft-top"){e[0].classList.add("jsPanel-tooltip-topleft")}else if(t==="right-bottomright-top"){e[0].classList.add("jsPanel-tooltip-topright")}else if(t==="left-topright-top"){e[0].classList.add("jsPanel-tooltip-righttop")}else if(t==="left-bottomright-bottom"){e[0].classList.add("jsPanel-tooltip-rightbottom")}else if(t==="left-topleft-bottom"){e[0].classList.add("jsPanel-tooltip-bottomleft")}else if(t==="right-topright-bottom"){e[0].classList.add("jsPanel-tooltip-bottomright")}},setTooltipMode(e,t){if(e.option.paneltype.mode==="semisticky"){e.hover(()=>jQuery.noop(),()=>{e.close();t.classList.remove("hasTooltip")})}else if(e.option.paneltype.mode==="sticky"){jQuery.noop()}else{jQuery(t).mouseout(()=>{e.close();t.classList.remove("hasTooltip")})}},setTrigger(e){const t=e.of||"window";if(typeof t==="string"){return document.querySelector(t)}else if(t.jquery){return t[0]}else{return t}},setZi(e){if(!e[0].classList.contains("jsPanel-modal")){if((this.zi+=1)>e.css("z-index")){e.css("z-index",this.zi)}}},smallify(e,t){const o=e.attr("id");if(e.data("status")==="normalized"||e.data("status")==="maximized"){if(e.data("status")!=="smallified"&&e.data("status")!=="smallifiedMax"){jQuery(document).trigger("jspanelbeforesmallify",o);if(jQuery.isFunction(e.option.onbeforesmallify)&&e.option.onbeforesmallify.call(e,e)===false){return e}e.smallify.height=e.outerHeight();e.css("overflow","hidden");e.animate({height:e.header.headerbar.outerHeight()+"px"},{done:function(){if(e.data("status")==="maximized"){e.hideControls([".jsPanel-btn-maximize",".jsPanel-btn-smallify"]);e.data("status","smallifiedMax");jQuery(document).trigger("jspanelsmallifiedmax",o)}else{e.hideControls([".jsPanel-btn-normalize",".jsPanel-btn-smallify"]);e.data("status","smallified");jQuery(document).trigger("jspanelsmallified",o)}if(jQuery.isFunction(e.option.onsmallified)){e.option.onsmallified.call(e,e)}jQuery(document).trigger("jspanelstatuschange",o)}})}}else if(e.data("status")!=="minimized"){jQuery(document).trigger("jspanelbeforeunsmallify",o);if(jQuery.isFunction(e.option.onbeforeunsmallify)){if(e.option.onbeforeunsmallify.call(e,e)===false){return e}}e.css("overflow","visible");e.animate({height:e.smallify.height},{done:function(){if(e.data("status")==="smallified"){e.hideControls([".jsPanel-btn-normalize",".jsPanel-btn-smallifyrev"]);e.data("status","normalized");jQuery(document).trigger("jspanelnormalized",o)}else{e.hideControls([".jsPanel-btn-maximize",".jsPanel-btn-smallifyrev"]);e.data("status","maximized");jQuery(document).trigger("jspanelmaximized",o)}e.contentResize();jQuery(document).trigger("jspanelunsmallified",o);jQuery(document).trigger("jspanelstatuschange",o);if(jQuery.isFunction(e.option.onunsmallified)){e.option.onunsmallified.call(e,e)}}})}e.css("z-index",this.setZi(e));if(t&&jQuery.isFunction(t)){t.call(e,e)}return e},toolbarAdd(e,t,o,s){if(t==="header"){e.header.toolbar[0].classList.add("active");if(jQuery.isArray(o)){this.configToolbar(o,e.header.toolbar,e)}else if(jQuery.isFunction(o)){e.header.toolbar.append(o(e.header))}else{e.header.toolbar.append(o)}}else if(t==="footer"){e.content[0].classList.remove("jsPanel-content-nofooter");e.footer[0].classList.add("active");if(e.option.theme==="none"){e.footer.css({background:"transparent",borderTop:"none"})}if(jQuery.isArray(o)){this.configToolbar(o,e.footer,e)}else if(jQuery.isFunction(o)){e.footer.append(o(e.footer))}else{e.footer.append(o)}}this.contentResize(e);if(s&&jQuery.isFunction(s)){s.call(e,e)}return e},contextmenu(e,t,o){let s;if(typeof e==="string"){s=document.querySelector(e)}else if(e.jquery){s=jQuery(e)[0]}else{s=e}s.addEventListener("contextmenu",function(e){e.preventDefault();e.stopPropagation();jsPanel.closePanels("contextmenu");let s=e.clientX+(window.scrollX||window.pageXOffset),n=e.clientY+(window.scrollY||window.pageYOffset),i=Object.assign({},jQuery.jsPanel.defaults,jQuery.jsPanel.contextmenudefaults,t,{container:"body",position:false});let l=jQuery.jsPanel(i).css({position:"absolute",left:s,top:n}).addClass("jsPanel-contextmenu").on("mouseleave",function(e){l.close()}).on("click",function(e){e.stopPropagation()});if(jQuery(e.target).closest(".jsPanel-modal")){l.css("z-index",jQuery(e.target).closest(".jsPanel-modal").css("z-index"))}l[0].cmEvent=e;jsPanel.checkContextmenuOverflow(l);if(o&&jQuery.isFunction(o)){o.call(l,l)}},false)},checkContextmenuOverflow(e){let t=e[0].cmEvent.clientX,o=e[0].cmEvent.clientY,s=e.outerWidth(),n=e.outerHeight(),i=window.innerWidth-(t+s),l=window.innerHeight-(o+n);if(i<0){e.css("left",t+(window.scrollX||window.pageXOffset)-s)}if(l<0){e.css("top",o+(window.scrollY||window.pageYOffset)-n)}}};if("ontouchend"in window){jsPanel.evtStart=["touchstart","mousedown"];jsPanel.evtMove=["touchmove","mousemove"];jsPanel.evtEnd=["touchend","mouseup"]}else{jsPanel.evtStart=["mousedown"];jsPanel.evtMove=["mousemove"];jsPanel.evtEnd=["mouseup"]}(function(e){e.jsPanel=function(t){let o,s=t||{},n=s.config||{},i=e.extend(true,{},n,s),l,a=s.template?e(s.template):n.template?e(n.template):e(jsPanel.template);delete i.config;if(e.isArray(i.maximizedMargin)&&i.maximizedMargin[4]===true){i.maximizedMargin.pop();let t,o;if(i.dragit){t=i.dragit.containment||i.maximizedMargin;i.dragit=e.extend({},true,i.dragit,{containment:t})}if(i.resizeit){o=i.resizeit.containment||i.maximizedMargin;i.resizeit=e.extend({},true,i.resizeit,{containment:o})}}if(i.position&&e.isFunction(i.position)){i.position=i.position()}if(i.paneltype==="tooltip"){i.paneltype={tooltip:true}}if(!i.paneltype){a.option=e.extend(true,{},e.jsPanel.defaults,i)}else if(i.paneltype==="modal"){a.option=e.extend(true,{},e.jsPanel.defaults,e.jsPanel.modaldefaults,i)}else if(i.paneltype.tooltip){a.option=e.extend(true,{},e.jsPanel.defaults,e.jsPanel.tooltipdefaults,i)}else if(i.paneltype==="hint"){a.option=e.extend(true,{},e.jsPanel.defaults,e.jsPanel.hintdefaults,i)}let{autoclose:r,border:c,callback:f,closeOnEscape:d,container:p,content:u,contentAjax:h,contentIframe:m,contentOverflow:g,contentSize:j,custom:b,dblclicks:y,draggable:P,dragit:w,footerToolbar:v,headerControls:z,headerLogo:x,headerRemove:Q,headerTitle:C,headerToolbar:E,id:k,onwindowresize:L,panelSize:O,paneltype:T,position:$,resizable:F,resizeit:S,rtl:X,setstatus:Y,show:I,theme:R}=a.option;if(T.tooltip){l=jsPanel.setTrigger($);if(l.classList.contains("hasTooltip")){return false}}if(typeof k==="string"){o=k}else if(typeof k==="function"){o=k()}if(e(`#${o}`).length>0){console.warn("jsPanel Error: No jsPanel created - id attribute passed with option.id already exists in document");e(`#${o}`)[0].jspanel.front();return false}else{a[0].id=o}a.data("custom",b);a.header=e(".jsPanel-hdr",a);a.header.headerbar=e(".jsPanel-headerbar",a.header);a.header.logo=e(".jsPanel-headerlogo",a.header.headerbar);a.header.title=e(".jsPanel-title",a.header.headerbar);a.header.controls=e(".jsPanel-controlbar",a.header.headerbar);a.header.toolbar=e(".jsPanel-hdr-toolbar",a.header);a.content=e(".jsPanel-content",a);a.footer=e(".jsPanel-ftr",a);a.data("status","initialized");a.cachedData={};a.close=((...e)=>jsPanel.close(a,...e));a.closeChildpanels=(()=>jsPanel.closeChildpanels(a));a.contentReload=(e=>jsPanel.contentReload(a,e));a.contentResize=(e=>jsPanel.contentResize(a,e));a.front=(e=>jsPanel.front(a,e));a.headerControl=((e,t)=>jsPanel.headerControl(a,e,t));a.headerTitle=(e=>jsPanel.headerTitle(a,e));a.hideControls=(e=>{Array.prototype.slice.call(a.header.controls[0].getElementsByClassName("jsPanel-btn")).forEach(function(e){if(e){e.style.display="block"}});e.forEach(function(e){if(a.header.controls[0].querySelector(e)){a.header.controls[0].querySelector(e).style.display="none"}})});a.maximize=(e=>jsPanel.maximize(a,e));a.minimize=(e=>jsPanel.minimize(a,e));a.normalize=(e=>jsPanel.normalize(a,e));a.reposition=((e,t)=>jsPanel.reposition(a,e,t));a.resize=function(t=e.jsPanel.resizedefaults.width,o=e.jsPanel.resizedefaults.height,s=e.jsPanel.resizedefaults.callback){let n={},i=t;if(!e.isPlainObject(i)){n.width=t;n.height=o;n.callback=s;i=e.extend({},false,e.jsPanel.resizedefaults,n)}else{if(i.resize==="content"){if(!String(i.height).match(/[^0-9\.]/)){i.height+="px"}if(!String(i.width).match(/[^0-9\.]/)){i.width+="px"}i.height=`calc(${i.height} + ${a.header.outerHeight()+"px"} + ${a.css("border-top-width")} + ${a.css("border-bottom-width")})`;i.width=`calc(${i.width} + ${a.css("border-left-width")} + ${a.css("border-right-width")})`}}jsPanel.resize(a,i);return a};a.setTheme=((t=R.toLowerCase().replace(/ /g,""),o)=>{t=t.toLowerCase().replace(/ /g,"");jsPanel.clearTheme(a);if(R==="none"){a.css("background-color","white");return a}const s=jsPanel.getThemeDetails(t);if(!s.bs){if(jsPanel.themes.indexOf(s.color)>-1){jsPanel.applyBuiltInTheme(a,s)}else{jsPanel.applyArbitraryTheme(a,s)}}else{jsPanel.applyBootstrapTheme(a,s)}if(c){jsPanel.applyThemeBorder(a,s)}else{a.css({borderWidth:"",borderStyle:"",borderColor:""})}if(o&&e.isFunction(o)){o.call(a,a)}return a});a.smallify=(e=>jsPanel.smallify(a,e));a.toolbarAdd=((e,t,o)=>jsPanel.toolbarAdd(a,e,t,o));a.updateCachedData=(()=>{a.cachedData.top=a.css("top");a.cachedData.left=a.css("left");a.cachedData.width=a.css("width");a.cachedData.height=a.css("height")});a.dragit=(t=>{if(t==="disable"){e(w.handles,a).css("pointer-events","none")}else{e(w.handles,a).css("pointer-events","auto")}return a});a.resizeit=(t=>{if(t==="disable"){e(".jsPanel-resizeit-handle",a).css("pointer-events","none")}else{e(".jsPanel-resizeit-handle",a).css("pointer-events","auto")}return a});e(".jsPanel-btn-close",a).on("click",e=>{e.preventDefault();if(e.button&&e.button>0){return false}jsPanel.close(a)});e(".jsPanel-btn-minimize",a).on("click",e=>{e.preventDefault();if(e.button&&e.button>0){return false}jsPanel.minimize(a)});e(".jsPanel-btn-maximize",a).on("click",e=>{e.preventDefault();if(e.button&&e.button>0){return false}jsPanel.maximize(a)});e(".jsPanel-btn-normalize",a).on("click",e=>{e.preventDefault();if(e.button&&e.button>0){return false}jsPanel.normalize(a)});e(".jsPanel-btn-smallify, .jsPanel-btn-smallifyrev",a).on("click",e=>{e.preventDefault();if(e.button&&e.button>0){return false}jsPanel.smallify(a)});a.appendTo(e(p)[0]);jsPanel.activePanels.list.push(o);e(document).trigger("jspanelloaded",o);a.data("container",p);a.setTheme();if(!Q){if(z.controls==="closeonly"){jsPanel.controls.forEach(e=>{if(e!=="close"){jsPanel.setControlStatus(a,e,"remove")}})}else if(z.controls==="none"){jsPanel.controls.forEach(e=>{jsPanel.setControlStatus(a,e,"remove")})}else{jsPanel.controls.forEach(e=>{if(z[e]==="disable"){jsPanel.setControlStatus(a,e,"disable")}else if(z[e]==="remove"){jsPanel.setControlStatus(a,e,"remove")}else{a[0].setAttribute(`data-btn${e}`,"enabled")}})}if(x){let e=x;if(typeof e==="string"&&e.substring(0,1)!=="<"){a.header.logo.append(`<img src="${e}" alt="logo">`)}else{a.header.logo.append(e)}}}else{a.header.remove();a.content[0].classList.add("jsPanel-content-noheader");jsPanel.controls.forEach(e=>{a[0].setAttribute(`data-btn${e}`,"removed")})}if(Q||e(".jsPanel-hdr").length<1){a.content.css("border","none")}jsPanel.configIconfont(a);if(T==="modal"){jsPanel.insertModalBackdrop(a);a[0].classList.add("jsPanel-modal");a.css("z-index",jsPanel.modalcount+9999)}else if(T==="hint"){a[0].classList.add("jsPanel-hint");a.css("z-index",1e4)}else if(T.tooltip){l=jsPanel.setTrigger($);a[0].classList.add("jsPanel-tooltip");jsPanel.setTooltipClass(a);if(T.solo){jsPanel.closePanels("tooltip")}jsPanel.setTooltipMode(a,l);if(e(l).closest(".jsPanel-modal")){a[0].style.zIndex=e(l).closest(".jsPanel-modal").css("z-index")}}if(T.tooltip){l.classList.add("hasTooltip")}if(E&&!Q){a.toolbarAdd("header",E)}if(v){a.toolbarAdd("footer",v)}if(u){a.content.append(u);a.data("content",u)}if(h){if(typeof h==="string"){a.option.contentAjax={url:h,autoload:true,autoresize:true,autoreposition:true}}else{a.option.contentAjax=Object.assign({autoresize:true,autoreposition:true},h)}jsPanel.ajax(a)}if(e.isPlainObject(m)&&(m.src||m.srcdoc)){jsPanel.iframe(a)}if(T.connector){jsPanel.addConnector(a)}let A=O||j,B=A;if(typeof A==="string"){A=A.trim().split(/\s{1,}/);for(let e=0;e<A.length;e++){if(A[e].match(/^\d{1,}$/)){A[e]=parseInt(A[e],10)}}B={width:A[0]||e.jsPanel.defaults.contentSize.width,height:A[1]||e.jsPanel.defaults.contentSize.height}}if(B.height===0){B.height="0"}if(O){a.css({width:B.width,height:B.height});a.contentResize()}else{a.content.css({width:B.width,height:B.height})}a.css({width:function(){if(e(".jsPanel-content",a).length>0){return a.content.outerWidth()+"px"}else{return j.width||e.jsPanel.defaults.contentSize.width}},zIndex:function(){jsPanel.setZi(a)}});a.content.css("width","100%");if($){jsPanel.position(a,$);jsPanel.calcPositionFactors(a)}a.css("opacity",1);a.data("status","normalized");e(document).trigger("jspanelstatuschange",o);if(!T){if(y){if(y.title){a.header.headerbar.on("dblclick",e=>{e.preventDefault();jsPanel.dblclickhelper(y.title,a)})}if(y.content){a.content.on("dblclick",e=>{e.preventDefault();jsPanel.dblclickhelper(y.content,a)})}if(y.footer){a.footer.on("dblclick",e=>{e.preventDefault();jsPanel.dblclickhelper(y.footer,a)})}}}if(typeof g==="string"){a.content.css("overflow",g)}else if(e.isPlainObject(g)){a.content.css({"overflow-y":g.vertical||g["overflow-y"],"overflow-x":g.horizontal||g["overflow-x"]})}if(e.ui&&e.ui.draggable&&!w.disableui){if(e.isPlainObject(P)){a.draggable(P)}else if(P==="disabled"){e(".jsPanel-headerlogo, .jsPanel-titlebar, .jsPanel-ftr",a).css("cursor","default");a.draggable({disabled:true})}else{e(".jsPanel-headerlogo, .jsPanel-titlebar, .jsPanel-ftr",a).css("cursor","default")}}else{if(w){jsPanel.dragit(a,w);if(w.disable){a.dragit("disable")}}else{e(".jsPanel-headerlogo, .jsPanel-titlebar, .jsPanel-ftr",a).css("cursor","default")}}if(e.ui&&e.ui.resizable&&!S.disableui){if(e.isPlainObject(F)){a.resizable(F)}else if(F==="disabled"){a.resizable({disabled:true});e(".ui-icon-gripsmall-diagonal-se, .ui-resizable-handle.ui-resizable-sw",a).css({"background-image":"none","text-indent":-9999});e(".ui-resizable-handle",a).css({cursor:"inherit"})}}else{if(S){jsPanel.resizeit(a,S);if(S.disable){a.resizeit("disable")}}}if(X.rtl===true){e(".jsPanel-hdr, .jsPanel-headerbar, .jsPanel-titlebar, .jsPanel-controlbar, .jsPanel-hdr-toolbar, .jsPanel-ftr",a).addClass("jsPanel-rtl");[a.header.title,a.content,e("*",a.header.toolbar),e("*",a.footer)].forEach(e=>{e.prop("dir","rtl");if(X.lang){e.prop("lang",X.lang)}});e(".ui-icon-gripsmall-diagonal-se",a).css({backgroundImage:"none",textIndent:-9999})}if(typeof I==="string"){a.addClass(I).css("opacity",1)}a.header.title.empty().prepend(C);a.updateCachedData();if(typeof Y==="string"){Y==="maximize smallify"?a.maximize().smallify():a[Y]()}if(typeof r==="number"&&r>0){window.setTimeout(()=>{if(a){a.close()}},r)}if(e.ui&&e.ui.resizable){a.on("resize",()=>jsPanel.contentResize(a));a.on("resizestop",function(){if(a.data("status")==="smallified"||a.data("status")==="smallifiedMax"){a.hideControls([".jsPanel-btn-normalize",".jsPanel-btn-smallifyrev"]);a.data("status","normalized");e(document).trigger("jspanelnormalized",o);e(document).trigger("jspanelstatuschange",o)}jsPanel.calcPositionFactors(a)})}if(e.ui&&e.ui.draggable){a.on("dragstop",()=>jsPanel.calcPositionFactors(a))}jsPanel.evtStart.forEach(function(t){a.on(t,t=>{if(t.target.classList.contains("jsglyph-close")||t.target.classList.contains("jsglyph-minimize")){return}const o=e(t.target).closest(".jsPanel").css("z-index");if(!a[0].classList.contains("jsPanel-modal")&&o<=jsPanel.zi){a.front()}})});if(d){a[0].setAttribute("data-closeonescape","true")}if(L){e(window).resize(function(t){if(t.target===window){let o=L,s=a.data("status");if(s==="maximized"&&!e.isFunction(o)){a.maximize(false,false)}else if(s==="normalized"||s==="smallified"||s==="maximized"){if(e.isFunction(o)){o.call(a,t,a)}else{a.reposition({left:function(){let t;if(this.option.container==="body"){t=(e(window).outerWidth()-this.outerWidth())*this.hf}else{t=(this.parent().outerWidth()-this.outerWidth())*this.hf}return t<=0?0:t},top:function(){let t;if(this.option.container==="body"){t=(e(window).outerHeight()-this.outerHeight())*this.vf}else{t=(this.parent().outerHeight()-this.outerHeight())*this.vf}return t<=0?0:t}})}}}})}a[0].jspanel={options:a.option,close(...e){const t=e[0]||false,o=e[1]||false,s=e[2]||false;jsPanel.close(a,t,o,s)},normalize(e){return jsPanel.normalize(a,e)},maximize(e){return jsPanel.maximize(a,e)},minimize(e){return jsPanel.minimize(a,e)},smallify(e){return jsPanel.smallify(a,e)},front(e){return jsPanel.front(a,e)},closeChildpanels(){return jsPanel.closeChildpanels(a)},reposition(e,t){return jsPanel.reposition(a,e,t)},resize(e,t,o){return a.resize(e,t,o)},contentResize(e){return jsPanel.contentResize(a,e)},contentReload(e){return jsPanel.contentReload(a,e)},headerTitle(e){return jsPanel.headerTitle(a,e)},headerControl(e,t){return jsPanel.headerControl(a,e,t)},toolbarAdd(e,t,o){return jsPanel.toolbarAdd(a,e,t,o)},setTheme(e,t){return a.setTheme(e,t)},noop(){return a},dragit(e){return a.dragit(e)},resizeit(e){return a.resizeit(e)}};if(f&&e.isFunction(f)){f.call(a,a)}else if(e.isArray(f)){f.forEach(t=>{if(e.isFunction(t)){t.call(a,a)}})}return a};e.jsPanel.defaults={autoclose:false,border:false,callback:false,closeOnEscape:false,container:"body",content:false,contentAjax:false,contentIframe:false,contentOverflow:"hidden",contentSize:{width:400,height:200},custom:false,dblclicks:false,delayClose:0,draggable:{handle:"div.jsPanel-headerlogo, div.jsPanel-titlebar, div.jsPanel-ftr",opacity:.8},dragit:{axis:false,containment:false,grid:false,handles:".jsPanel-headerlogo, .jsPanel-titlebar, .jsPanel-ftr.active",opacity:.8,start:false,drag:false,stop:false,disable:false,disableui:false},footerToolbar:false,headerControls:{close:false,maximize:false,minimize:false,normalize:false,smallify:false,controls:"all",iconfont:"jsglyph"},headerLogo:false,headerRemove:false,headerTitle:"jsPanel",headerToolbar:false,id:()=>`jsPanel-${jsPanel.id+=1}`,maximizedMargin:[5,5,5,5],minimizeTo:true,onbeforeclose:false,onbeforemaximize:false,onbeforeminimize:false,onbeforenormalize:false,onbeforesmallify:false,onbeforeunsmallify:false,onclosed:false,onmaximized:false,onminimized:false,onnormalized:false,onbeforeresize:false,onresized:false,onsmallified:false,onunsmallified:false,onfronted:false,onwindowresize:false,paneltype:false,position:"center",resizable:{handles:"n, e, s, w, ne, se, sw, nw",autoHide:false,minWidth:40,minHeight:40},resizeit:{containment:false,grid:false,handles:"n, e, s, w, ne, se, sw, nw",minWidth:40,minHeight:40,maxWidth:1e4,maxHeight:1e4,start:false,resize:false,stop:false,disable:false,disableui:false},rtl:false,setstatus:false,show:false,template:false,theme:"default"};e.jsPanel.modaldefaults={draggable:false,dragit:false,headerControls:{controls:"closeonly"},position:"center",resizable:false,resizeit:false,onwindowresize:true};e.jsPanel.tooltipdefaults={draggable:false,dragit:false,headerControls:{controls:"closeonly"},position:{fixed:false},resizable:false,resizeit:false};e.jsPanel.hintdefaults={autoclose:8e3,draggable:false,dragit:false,headerControls:{controls:"closeonly"},resizable:false,resizeit:false};e.jsPanel.contextmenudefaults={draggable:false,resizable:false,dragit:false,resizeit:false,headerRemove:true,headerControls:{controls:"none"}};e.jsPanel.resizedefaults={width:"auto",height:"auto",minwidth:false,maxwidth:false,minheight:false,maxheight:false,resize:false,callback:false};e(document).ready(function(){document.body.addEventListener("click",t=>{const o=e(t.target).closest(".jsPanel").length;if(o<1&&!t.target.classList.contains("hasTooltip")){jsPanel.closePanels("tooltip");e(".hasTooltip").removeClass("hasTooltip")}jsPanel.closePanels("contextmenu")},false);e("body").css("-ms-overflow-style","scrollbar").append('<div id="jsPanel-replacement-container">');window.addEventListener("keydown",t=>{const o=t.key||t.code;if(o==="Escape"||o==="Esc"){jsPanel.activePanels.list.sort(function(e,t){return document.getElementById(t).style.zIndex-document.getElementById(e).style.zIndex}).some(function(o){let s=e("#"+o),n=s.parent().closest(".jsPanel");if(jsPanel.closeOnEscape||s[0].getAttribute("data-closeonescape")){if(n.length&&(jsPanel.closeOnEscape==="closeparent"||s[0].getAttribute("data-closeonescape"))||t.shiftKey){jsPanel.activePanels.getPanel(n[0].id).close();return true}else{jsPanel.activePanels.getPanel(s[0].id).close();return true}}})}},false)})})(jQuery);