# Archivo de configuración de ejemplo para despliegue del clúster Enterprise
# Copia este archivo como .env y configura los valores apropiados

# Configuración de AWS
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
AWS_DEFAULT_REGION=us-east-1
AWS_DEFAULT_OUTPUT=json

# Configuración del clúster
TF_VAR_cluster_name=my-webmin-cluster
TF_VAR_environment=production
TF_VAR_admin_email=admin@yourdomain.com
TF_VAR_cluster_timezone=UTC

# Configuración de red
TF_VAR_vpc_cidr=10.0.0.0/16
TF_VAR_public_subnets='["10.0.1.0/24", "10.0.2.0/24", "10.0.3.0/24"]'
TF_VAR_private_subnets='["10.0.10.0/24", "10.0.11.0/24", "10.0.12.0/24"]'
TF_VAR_database_subnets='["10.0.20.0/24", "10.0.21.0/24", "10.0.22.0/24"]'

# Configuración de instancias
TF_VAR_lb_instance_type=t3.medium
TF_VAR_web_instance_type=t3.large
TF_VAR_api_instance_type=t3.large
TF_VAR_db_instance_type=t3.xlarge
TF_VAR_storage_instance_type=t3.large
TF_VAR_monitoring_instance_type=t3.medium
TF_VAR_backup_instance_type=t3.medium

# Configuración de auto-scaling
TF_VAR_web_min_size=3
TF_VAR_web_max_size=50
TF_VAR_web_desired_capacity=5
TF_VAR_api_min_size=2
TF_VAR_api_max_size=20
TF_VAR_api_desired_capacity=3
TF_VAR_db_min_size=3
TF_VAR_db_max_size=9
TF_VAR_db_desired_capacity=3

# Configuración de HA
TF_VAR_keepalived_vip=10.0.1.100
KEEPALIVED_AUTH_PASS=your-keepalived-password

# Configuración de Webmin/Virtualmin
VIRTUALMIN_LICENSE_KEY=your-virtualmin-license-key

# Configuración de Grafana
GRAFANA_ADMIN_PASSWORD=your-secure-grafana-password

# Configuración de backups
BACKUP_ENCRYPTION_KEY=your-32-character-encryption-key

# Configuración de SMTP para alertas
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password

# Configuración de notificaciones
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
PAGERDUTY_SERVICE_KEY=your-pagerduty-service-key
ALERT_FROM_EMAIL=alerts@yourdomain.com

# Configuración de Let's Encrypt
LETSENCRYPT_STAGING=false

# Configuración de Ansible
ANSIBLE_VAULT_PASSWORD=your-ansible-vault-password

# Configuración de HAProxy
HAPROXY_STATS_PASSWORD=your-haproxy-stats-password

# Configuración de compliance y auditoría
TF_VAR_admin_email=admin@yourdomain.com

# Configuración opcional de SSH
# SSH_KEY_PATH=~/.ssh/cluster-key
# SSH_KEY_NAME=cluster-key

# Configuración de tags
TF_VAR_project=webmin-cluster
TF_VAR_owner=your-team
TF_VAR_cost_center=it-infrastructure

# Configuración de backup S3
TF_VAR_backup_bucket_name=my-webmin-cluster-backups

# Configuración de dominio (opcional)
# TF_VAR_domain_name=yourdomain.com
# TF_VAR_hosted_zone_id=Z123456789

# Configuración de CloudWatch (opcional)
# TF_VAR_enable_cloudwatch=true
# TF_VAR_cloudwatch_retention_days=30

# Configuración de Route53 (opcional)
# TF_VAR_create_route53_records=true

# Configuración de VPN (opcional)
# TF_VAR_enable_vpn=true
# TF_VAR_vpn_cidr=10.1.0.0/16

# Configuración de WAF (opcional)
# TF_VAR_enable_waf=true
# TF_VAR_waf_blocked_countries='["CN", "RU", "KP"]'

# Configuración de compliance
TF_VAR_enable_config=true
TF_VAR_enable_guardduty=true
TF_VAR_enable_security_hub=true

# Configuración de backup adicional
TF_VAR_backup_schedule=cron(0 2 * * ? *)
TF_VAR_backup_retention_days=30

# Configuración de monitoreo adicional
TF_VAR_enable_xray=true
TF_VAR_enable_cloudtrail=true

# Configuración de budget alerts - SISTEMA GRATIS
TF_VAR_monthly_budget_limit=0  # GRATIS - Sin costo adicional
TF_VAR_budget_alert_emails='["admin@yourdomain.com"]'

# Configuración de MONITOREO DE COSTOS - GRATIS
TF_VAR_enable_cost_monitoring=true  # Monitoreo GRATIS activado
TF_VAR_cost_alert_thresholds='[50, 75, 90, 100]'  # Alertas GRATIS
TF_VAR_cost_anomaly_detection=true  # Detección GRATIS
TF_VAR_cost_saving_targets=20  # Optimización GRATIS
TF_VAR_cost_optimization_enabled=true  # Optimización GRATIS
TF_VAR_spot_instances_enabled=false  # Spot instances GRATIS
TF_VAR_reserved_instances_optimization=true  # RI optimization GRATIS

# Configuración de SERVIDORES ILIMITADOS
TF_VAR_enable_unlimited_servers=true
TF_VAR_unlimited_max_servers=0
TF_VAR_dynamic_inventory_enabled=true
TF_VAR_auto_discovery_interval=5
TF_VAR_load_balancer_auto_scaling=true
TF_VAR_intelligent_resource_allocation=true
TF_VAR_server_health_check_interval=30
TF_VAR_auto_failover_enabled=true
TF_VAR_cross_region_replication=false
TF_VAR_unlimited_backup_storage=true
TF_VAR_server_provisioning_speed=120