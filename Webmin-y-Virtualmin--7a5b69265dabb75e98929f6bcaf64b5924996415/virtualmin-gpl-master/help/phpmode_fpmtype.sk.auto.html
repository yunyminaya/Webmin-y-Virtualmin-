<header>Režim PHP Process Manager</header> PHP-FPM alebo FastCGI Process Manager pre PHP poskytuje niekoľko režimov správy pre svoje pracovné procesy. Tieto režimy určujú, ako bude PHP-FPM vytvárať, udržiavať a recyklovať podriadené procesy, ktoré spracovávajú požiadavky PHP. Režim sa nastavuje pomocou konfiguračnej direktívy <tt>pm</tt> .<br><br> <b><tt>dynamic</tt></b> (predvolené)<br> V <tt>dynamic</tt> režime PHP-FPM dynamicky upravuje počet vytvorených podriadených procesov na základe dopytu a riadi sa nasledujúcimi direktívami: <p></p><table><tr><td style="white-space: nowrap; vertical-align: top; padding-right: 0.5rem!important;"> <tt>pm.max_children</tt></td><td> maximálny počet detí, ktoré môžu byť súčasne nažive </td></tr><tr><td style="white-space: nowrap; vertical-align: top; padding-right: 0.5rem!important;"> <tt>pm.start_servers</tt></td><td> počet detí vytvorených pri spustení </td></tr><tr><td style="white-space: nowrap; vertical-align: top; padding-right: 0.5rem!important;"> <tt>pm.min_spare_servers</tt></td><td> minimálny počet detí v stave „nečinnosť“ (čakajúce na spracovanie). Ak je počet „nečinných“ procesov nižší ako tento počet, vytvoria sa nejaké deti </td></tr><tr><td style="white-space: nowrap; vertical-align: top; padding-right: 0.5rem!important;"> <tt>pm.max_spare_servers</tt></td><td> maximálny počet detí v stave „nečinnosť“ (čakajúce na spracovanie). Ak je počet „nečinných“ procesov väčší ako tento počet, niektoré deti budú zabité </td></tr><tr><td style="white-space: nowrap; vertical-align: top; padding-right: 0.5rem!important;"> <tt>pm.max_spawn_rate</tt></td><td> maximálny počet rýchlostí na vytvorenie podradených procesov naraz</td></tr></table><p></p> Medzi výhody patrí automatické prispôsobenie počtu podriadených procesov na základe dopytu, čím sa zabezpečí optimálne využitie zdrojov. To je užitočné najmä pre servery s kolísavým zaťažením.<br><br> <b><tt>static</tt></b><br> V <tt>static</tt> režime PHP-FPM udržiava pevný počet podriadených procesov. Toto číslo je určené direktívou <tt>pm.max_children</tt> . Medzi výhody patrí konzistentné využitie pamäte vďaka konštantnému počtu podriadených procesov. Toto je ideálne pre servery so stabilným zaťažením.<br><br> <b><tt>ondemand</tt></b><br> V režime <tt>ondemand</tt> sa pri spustení nevytvoria žiadne deti. Namiesto toho PHP-FPM vytvorí podriadené procesy len vtedy, keď je to potrebné, tj keď príde požiadavka, ktorá potrebuje spracovanie. Maximálny počet detí, ktoré môžu byť súčasne nažive, je riadený direktívou <tt>pm.max_children</tt> . Procesy sú potom ukončené po určitom čase nečinnosti direktívou <tt>pm.process_idle_timeout</tt> . Medzi výhody patrí znížené využitie pamäte počas obdobia nízkej alebo žiadnej prevádzky. Ideálne pre servery s prerušovanou záťažou alebo aplikácie s nepredvídateľnými vzormi prevádzky.<br><br> Najlepší režim pre vašu aplikáciu sa môže líšiť v závislosti od dostupných zdrojov servera, vzorov prevádzky a špecifických charakteristík aplikácie. Na dosiahnutie optimálneho výkonu je nevyhnutné sledovať a dolaďovať nastavenia.<footer>