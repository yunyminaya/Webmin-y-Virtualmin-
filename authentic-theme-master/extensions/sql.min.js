/*!
 * Authentic Theme (https://github.com/authentic-theme/authentic-theme)
 * Copyright Ilia Rostovtsev <ilia@virtualmin.com>
 * Licensed under MIT (https://github.com/authentic-theme/authentic-theme/blob/master/LICENSE)
 */
var mysql_tbl_cnt1_sel_str=".container-fluid .table.table-striped.table-hover",mysql_tbl_cnt2_sel_str=".container-fluid .ui_form > .long-table-wrapper";function __sql_____undel(){var e="body",t=$(e),a="change.sql keydown.sql click.sql dblclick.sql";t.off(a);$(e+" *").undelegate(a).unbind(a).off(a);f__ex__mysql_runner_active=0}function db_check_selected(){if(typeof f__ex__mysql_runner_active==="undefined"||!f__ex__mysql_runner_active){return}var e=$(""+mysql_tbl_cnt1_sel_str+' input[type="checkbox"]:checked, .container-fluid .ui_grid_table.table-hardcoded input[type="checkbox"]:checked, .container-fluid form div.icons-container.highlighted, .container-fluid form div.small-icons-container.highlighted,  .container-fluid form div.xsmall-icons-container.highlighted').length;if(e===0){$(".container-fluid button#edit,  .container-fluid button#delete,  .container-fluid button#deleteClone,  .container-fluid input#delete").prop("disabled",true)}else{$(" .container-fluid button#edit,  .container-fluid button#delete,  .container-fluid button#deleteClone,  .container-fluid input#delete").prop("disabled",false)}var t=$(".container-fluid button#edit span"),a=$('.container-fluid button[name="delete"] span'),n=$(".container-fluid button#deleteClone span");if(v___location_path==v___location_prefix+"/mysql/edit_dbase.cgi"||v___location_path==v___location_prefix+"/postgresql/edit_dbase.cgi"){if(e>1){n.text(theme_language("database_objects_selected_delete2"))}else{n.text(theme_language("database_object_selected_delete2"))}}else if(v___location_path==v___location_prefix+"/mysql/edit_table.cgi"||v___location_path==v___location_prefix+"/postgresql/edit_table.cgi"){if(e>1){n.text(theme_language("database_delete_selected_fields"))}else{n.text(theme_language("database_delete_selected_field"))}}else if(v___location_path==v___location_prefix+"/mysql/"||v___location_path==v___location_prefix+"/postgresql/"||v___location_path==v___location_prefix+"/mysql/index.cgi"||v___location_path==v___location_prefix+"/postgresql/index.cgi"){if(e>1){n.text(theme_language("database_dbs_selected_drop"))}else{n.text(theme_language("database_db_selected_drop"))}}else if(v___location_file!="list_users.cgi"&&v___location_file!="list_dbs.cgi"&&v___location_file!="list_tprivs.cgi"&&v___location_file!="list_cprivs.cgi"&&v___location_file!="list_grants.cgi"&&v___location_file!="list_hosts.cgi"){if(e>1){t.text(theme_language("database_edit_selected_rows"));a.text(theme_language("database_delete_selected_rows"))}else{t.text(theme_language("database_edit_selected_row"));a.text(theme_language("database_delete_selected_row"))}}}function proc_sql_table(e){if(typeof f__ex__mysql_runner_active==="undefined"||!f__ex__mysql_runner_active){return}if(v___location_path==v___location_prefix+"/mysql/view_table.cgi"||v___location_path==v___location_prefix+"/postgresql/view_table.cgi"){e.parent("tr").addClass("selectable");e.addClass("selectable")}!e.find("table").length&&e.attr("title",$.trim(e.text()))}function f__ex__mysql_runner_update(){var e="disabled",t=".container-fluid .btn-group.end_submits";$(""+t+" .btn["+e+"], "+t+" .btn."+e+"").removeAttr(e).removeClass(e);if(v___location_file!="view_table.cgi"){var a=parseInt($(""+mysql_tbl_cnt2_sel_str+" .long-table-scroll").width()),n=parseInt($(""+mysql_tbl_cnt2_sel_str+" .long-table-scroll > table").width()),l=n>a?true:false;table_data_init($(mysql_tbl_cnt1_sel_str),false,l)}}function f__ex__mysql_runner(){f__ex__mysql_runner_active=1;if(v___location_path==v___location_prefix+"/mysql/view_table.cgi"||v___location_path==v___location_prefix+"/postgresql/view_table.cgi"){}var e=$("body"),t='input[type="checkbox"]';e.undelegate(t,"change.sql");$(""+mysql_tbl_cnt1_sel_str+", .container-fluid .ui_grid_table.table-hardcoded").on("change.sql",t,function(e){db_check_selected()});var a=".select_all, .select_invert";e.undelegate(a,"click.sql");e.on("click.sql",a,function(e){db_check_selected()});var n='button[name="cancel"]';e.undelegate(n,"click.sql");e.on("click.sql",n,function(e){set_onbeforeunload_status(0,0)});$isResizeable=false;if(!v___location_file||v___location_file=="index.cgi"||v___location_file=="list_users.cgi"||v___location_file=="list_dbs.cgi"||v___location_file=="list_tprivs.cgi"||v___location_file=="list_cprivs.cgi"){db_check_selected();table_data_init($(mysql_tbl_cnt1_sel_str));page.render.content.filter.init();if(v___location_file=="list_dbs.cgi"||v___location_file=="list_tprivs.cgi"||v___location_file=="list_cprivs.cgi"){$(".container-fluid .fa-user-times").addClass("fa-times-circle").removeClass("fa-user-times")}}if(v___location_path==v___location_prefix+"/mysql/drop_dbases.cgi"||v___location_path==v___location_prefix+"/postgresql/drop_dbases.cgi"||v___location_path==v___location_prefix+"/mysql/drop_tables.cgi"||v___location_path==v___location_prefix+"/postgresql/drop_tables.cgi"){setTimeout(function(){$(".btn.btn-default").removeClass("heighter-28 btn-default").addClass("heighter-34 btn-danger")},10)}if(v___location_path==v___location_prefix+"/mysql/"||v___location_path==v___location_prefix+"/postgresql/"||v___location_path==v___location_prefix+"/mysql/index.cgi"||v___location_path==v___location_prefix+"/postgresql/index.cgi"){setTimeout(function(){$('.container-fluid .panel-body .table-hardcoded tr td[align="right"]:last-child').find("a").addClass("btn btn-tiny btn-danger").prepend('<i class="fa fa-fw fa-filter-clear"></i>&nbsp;&nbsp;');if($(".ui_select.heighter-34").length){$('.container-fluid a[href="newdb_form.cgi"]').addClass("btn btn-success").text($('.container-fluid a[href="newdb_form.cgi"]').text().replace(".","")).prepend('<i class="fa fa-fw fa-plus"></i>&nbsp;&nbsp;')}},10);e.undelegate("#newClone, #deleteClone","click.sql");e.on("click.sql","#newClone, #deleteClone",function(e){e.preventDefault();$("#"+$(this).attr("id").replace("Clone","")).trigger("click")})}if(!config_portable_module_xsql_fit_content_screen_height){e.addClass("long-table-scroll-maxHeight")}if(v___location_path==v___location_prefix+"/mysql/edit_dbase.cgi"||v___location_path==v___location_prefix+"/mysql/edit_table.cgi"||v___location_path==v___location_prefix+"/mysql/view_table.cgi"||v___location_path==v___location_prefix+"/postgresql/edit_dbase.cgi"||v___location_path==v___location_prefix+"/postgresql/edit_table.cgi"||v___location_path==v___location_prefix+"/postgresql/view_table.cgi"){$('.container-fluid .panel-body .table-hardcoded tr td[align="right"]:last-child').find("a").addClass("btn btn-tiny btn-danger").prepend('<i class="fa fa-fw fa-filter-clear"></i>&nbsp;&nbsp;');if(v___location_path==v___location_prefix+"/mysql/view_table.cgi"||v___location_path==v___location_prefix+"/postgresql/view_table.cgi"){var l='<span class="cspinner_container" style=" width: 19px; height: 14px; display: inline-block;"><span class="cspinner" style="margin-top: -4px; margin-left: -11px;"><span class="cspinner-icon white small"></span></span></span>';$('.container-fluid button[type="button"][name="refresh"]').addClass("margined-top-0 btn-info").removeClass("btn-warning");var i=$('.container-fluid input[name="search"][type="hidden"]').parent("form");i.find('button[type="button"].btn-info').removeClass("btn-info").addClass("btn-default heighter-28").find(".fa").remove();var s=$('.container-fluid input[name="jump"]').parent("form");s.find("button.btn-success").removeClass("btn-success").addClass("btn-default heighter-28").find(".fa").remove();var o=s.detach();i.before(o.addClass("pull-right"));$('.container-fluid button[type="button"][name="delete"]').remove();$(".container-fluid #edit").length&&$('.container-fluid [type="button"][name="new"]').addClass("hidden");$(".container-fluid #edit").replaceWith('          <div class="btn-group">            <button class="btn btn-default" type="submit" name="edit" id="edit" disabled><i class="fa fa-fw fa-i-cursor">&nbsp;&nbsp;</i><span>'+theme_language("database_edit_selected_row")+'</span></button>            <button class="btn btn-success" type="submit" name="newClone" id="newClone"><i class="fa fa-fw fa-plus-circle">&nbsp;&nbsp;</i><span>'+theme_language("database_add_new_row")+'</span></button>            <button class="btn btn-warning" type="submit" name="delete" id="deleteClone" disabled><i class="fa fa-fw fa-trash">&nbsp;&nbsp;</i><span>'+theme_language("database_delete_selected_row")+"</span></button>          </div>        ");var _=".container-fluid #newClone, .container-fluid #deleteClone";e.undelegate(_,"click.sql");e.on("click.sql",_,function(e){var t=$(quirks.active_element()).parents("form");$("<input>").attr({type:"hidden",name:$(quirks.active_element()).attr("name").replace("Clone",""),value:$.trim(quirks.active_element().innerText)}).appendTo(t);$("#"+$(this).attr("id").replace("Clone","")).trigger("click")})}$(mysql_tbl_cnt1_sel_str).css({width:"99.7%"}).wrap('<div class="long-table-wrapper"><div class="long-table-scroll"></div></div>');var _='.container-fluid td > label[for^="row_"], .container-fluid td[data-td-e].selectable';e.undelegate(_,"click.sql");e.on("click.sql",_,function(e){if(!$(this).find("input, textarea").length){e.preventDefault();e.stopPropagation();$(this).selectText()}else{}});e.undelegate(_,"dblclick.sql");e.on("dblclick.sql",_,function(e){e.preventDefault();e.stopPropagation()});e.undelegate(".long-table-wrapper div.thead","click.sql");e.on("click.sql",".long-table-wrapper div.thead",function(e){if($("#savenew").length){return}if($(this).find("i").hasClass("fa-plus-square")){$(this).find("i").removeClass("fa-plus-square").addClass("fa-minus-square");$(this).find("i").parent().next(".long-table-scroll").find(".table-hardcoded").removeClass("hidden")}else{$(this).find("i").addClass("fa-plus-square").removeClass("fa-minus-square");$(this).find("i").parent().next(".long-table-scroll").find(".table-hardcoded").addClass("hidden")}$(window).trigger("resize")});$.each($(mysql_tbl_cnt1_sel_str).find("thead th, tbody td:last-child"),function(e,t){if($(this).is("th")){$(this).html('<em class="text-nowrap th-server-sort">'+$(this).html()+"</em>")}if($(this).is(":last-child")&&!$(this).parents(".table-hardcoded").length){$(this).css("border-right","1px solid #"+(v___theme_night_mode_enabled?"2f3238":"eee")+"")}}).promise().done(function(){$.each($(mysql_tbl_cnt1_sel_str).find("tbody tr td"),function(e,t){proc_sql_table($(this))}).promise().done(function(){var t='<i class="fa fa-fw fa-floppy-o">&nbsp;&nbsp;</i>',a='<i class="fa fa-fw fa-check-circle-o">&nbsp;&nbsp;</i>',n='<i class="fa fa-fw fa-trash-o">&nbsp;&nbsp;</i>',l='<span class="cspinner_container" style=" width: 18px; height: 14px; display: inline-block;"><span class="cspinner" style="margin-top: -1px; margin-left: -12px;"><span class="cspinner-icon white small"></span></span></span>',i='<span class="cspinner_container" style=" width: 18px; height: 14px; display: inline-block;"><span class="cspinner" style="margin-top: -1px; margin-left: -12px;"><span class="cspinner-icon dark small"></span></span></span>';if(v___location_path==v___location_prefix+"/mysql/view_table.cgi"||v___location_path==v___location_prefix+"/postgresql/view_table.cgi"){var s=parseInt($(""+mysql_tbl_cnt2_sel_str+" .long-table-scroll").width()),o=parseInt($(""+mysql_tbl_cnt2_sel_str+" .long-table-scroll > table").width()),_=o>s?true:false}if(!_){e.addClass("__non_res__")}if((v___location_path==v___location_prefix+"/mysql/view_table.cgi"||v___location_path==v___location_prefix+"/postgresql/view_table.cgi")&&$("#save, #savenew").length&&$('.container-fluid [name="cancel"]').length){if($("#save").length&&$('.container-fluid [name="cancel"]').length){$('.container-fluid [name="cancel"]').remove();$("#save").replaceWith('                <div class="btn-group">                  <button class="btn btn-success" type="submit" name="save" id="save">'+t+""+theme_language("global_update")+'</button>                  <button class="btn btn-default" type="submit" name="save-close" id="save-close">'+a+""+theme_language("global_update_and_close")+'</button>                  <button class="btn btn-default" type="submit" name="cancel" id="cancel"><i class="fa fa-fw fa-undo">&nbsp;&nbsp;</i>'+theme_language("global_back")+"</button>                </div>              ")}if($("#savenew").length&&$('.container-fluid [name="cancel"]').length){$('.container-fluid [name="cancel"]').remove();$("#savenew").replaceWith('                <div class="btn-group">                  <button class="btn btn-success" type="submit" name="savenew" id="savenew">'+t+""+theme_language("global_save")+'</button>                  <button class="btn btn-default" type="submit" name="savenew-close" id="savenew-close">'+a+""+theme_language("global_save_and_close")+'</button>                  <button class="btn btn-default" type="submit" name="cancel" id="cancel"><i class="fa fa-fw fa-undo">&nbsp;&nbsp;</i>'+theme_language("global_cancel")+"</button>                </div>              ")}var r=$(".container-fluid td[data-td-e] .table-hardcoded"),c=parseInt($(""+mysql_tbl_cnt2_sel_str+" .long-table-scroll").width()),d=$(mysql_tbl_cnt1_sel_str).find("thead th").filter(function(e){return $(this).position().left+$(this).width()<c}).length+1,f=$(mysql_tbl_cnt1_sel_str).find("thead th").length,p=f-d;var b=0,u=0,h=0;if(navigator.userAgent.toLowerCase().indexOf("firefox")>-1){b=25;u=13;h=20}else{b=19;u=10;h=15}var g=session.server.data("navigation-collapsed")==1||!$.support.spa?15:parseInt(settings_leftmenu_width)+15,v=session.server.data("slider-fixed")==0?15:300+15,m=100-pxTOvw(g)-pxTOvw(v);r.find('input[type="text"], textarea').addClass("input-sm");r.wrap('<div class="long-table-wrapper"><div class="long-table-scroll container-resizeable-scroll" style="max-height: 28vh; width: '+(m-.9)+"vw; max-width: "+(m-.9)+'vw;"></div></div>').addClass("container-resizeable-table").css({width:"99%","margin-top":"-1px"}).parent().parent().parent("td").removeClass("selectable").addClass("col-no-styling container-resizeable-col").attr({colspan:d,style:"padding: 0 !important;"}).find(".long-table-wrapper").attr({style:"margin: 0 !important"}).find(".table-hardcoded tr.thead").attr({style:"border: 0 !important"}).addClass("hidden").next("tr").find("td:first-child").css({width:"20%","text-align":"left","padding-left":"10%"}).parent("tr").find("td:last-child").css({width:"80%","text-align":"left","padding-left":"10%"});$.each(r.parent(".long-table-scroll").parent(".long-table-wrapper"),function(){var e=$(this).find(".table-hardcoded").find("tbody tr:nth-child(2) td:last-child"),e=e.find('input[type="text"]').val()?e.find('input[type="text"]').val():e.text();$(this).prepend('                    <div class="thead container-resizeable-head" style="width: '+m+"vw; max-width: "+m+'vw;">                      <i class="fa fa-fw fa-minus-square text-light pull-right db_editor_collapse'+($("#savenew").length?" invisible":"")+'" style="cursor: default; margin-top: 5px; position: relative; z-index: 999999; margin-right: '+h+'px; margin-bottom: -5px;"></i>                      <span class="col-xs-2 text-left pull-left" style="padding-top: 1px; padding-left: 7px;"><em style="font-weight: 500">'+($("#savenew").length?"":e)+'</em></span>                      <span class="col-xs-10 text-left pull-left" style="padding-top: 0; padding-left: 4%; font-size: 14px; font-weight: 500; font-style: italic;">'+($("#savenew").length?theme_language("database_adding_new_row_data"):"")+"</span>                    </div>                ")});$(".col-no-styling").parent("tr").addClass("row-no-styling").parent("tbody").parent(".table-hover").addClass("no-hover");$.each($(""+mysql_tbl_cnt1_sel_str+" > thead > tr, "+mysql_tbl_cnt1_sel_str+" > tbody > tr:not(.row-no-styling)"),function(){if(!$(this).find("input, textarea").length){$(this).addClass("opacity-0_5")}else{}});var w=$(".container-fluid .container-resizeable-head").length>1?"s":"",x=$("#savenew").length?theme_language("database_adding_new_row"):theme_language("database_editing_row"+w);$(".container-fluid .panel-body > center").remove();$(".container-fluid .panel-body").prepend('<center><span class="h4">'+x+"</span></center>");hSB=$(""+mysql_tbl_cnt2_sel_str+" .long-table-scroll").hasScrollBar();if(hSB){if($("#savenew").length){$(".container-fluid .long-table-scroll").scrollTop($(".long-table-scroll")[0].scrollHeight)}else{var y=$(".container-resizeable-head:last");if(y&&y.length){y.scrollIntoView({duration:200,direction:"vertical",complete:function(){}})}}}var q=".container-fluid .container-resizeable-table input, .container-fluid .container-resizeable-table textarea";e.undelegate(q,"keydown.sql");e.on("keydown.sql",q,function(){$(".container-fluid button.btn-success").removeClass("btn-success").addClass("btn-warning").attr("data-form-onbeforeunload","1").attr("data-form-onbeforeunload-tabledata","1");set_onbeforeunload_status(1,0)});$(window).resize(function(){var t=0,a=0,n=0,l=0,i=0;setTimeout(function(){if(navigator.userAgent.toLowerCase().indexOf("firefox")>-1){i=25;l=18}else{i=19;l=5}n=$(""+mysql_tbl_cnt2_sel_str+" .long-table-scroll").hasScrollBar();t=parseInt($(""+mysql_tbl_cnt2_sel_str+" .long-table-scroll").width());a=$(mysql_tbl_cnt1_sel_str).find("thead th").filter(function(e){return $(this).position().left+$(this).width()<t}).length+1},2);setTimeout(function(){e.find(".container-resizeable-col").attr("colspan",a);e.find(".container-resizeable-scroll").width(t-i+6+parseInt(n?0:l));e.find(".container-resizeable-head").width(t-i+12+parseInt(n?0:l))},3)});setTimeout(function(){$(window).trigger("resize");$('.container-fluid form[action="view_table.cgi"]').nextAll(":not(script)").remove()},11);var C=".container-fluid #save, .container-fluid #save-close, .container-fluid #savenew, .container-fluid #savenew-close";e.undelegate(C,"click.sql");e.on("click.sql",C,function(e){e.preventDefault();var n=$(this),s=n.attr("id"),o=s=="save-close"?"save":s=="savenew-close"?"savenew":s;if(s=="save"||s=="savenew"){$(".container-fluid button").find(".fa.fa-floppy-o").replaceWith(l)}else if(s=="save-close"||s=="savenew-close"){$(".container-fluid button").find(".fa.fa-check-circle-o").replaceWith(i)}setTimeout(function(){$.ajax({type:"POST",url:v___location_path+"?xhr&"+o+"=1",data:n.parents("form").serialize(),dataType:"text",success:function(e){if(!session.status(e)){return}$(".container-fluid button").find(".cspinner_container").replaceWith(s=="save"||s=="savenew"?t:a);if(!$(e).find(".ui_form").length){plugins.messenger.post('<i class="fa fa-fw fa-exclamation-triangle"></i>'+$(e).find("[data-fatal-error-text]").html(),10,"error")}else{$(".container-fluid button.btn-warning").removeClass("btn-warning").addClass("btn-success").attr("data-form-onbeforeunload",0);set_onbeforeunload_status(0,0);if(s=="save"||s=="save-close"){var n=$(".container-resizeable-head").length>1?"database_edit_rows_successful":"database_edit_row_successful";if(s=="save-close"){$('.container-fluid [name="cancel"]').trigger("click")}}if(s=="savenew"||s=="savenew-close"){if(s=="savenew-close"){$('.container-fluid [name="cancel"]').trigger("click")}var l="";$.each($(".container-fluid tr.row-no-styling"),function(){var e=$(this);l+='<tr class="tr_tag selectable opacity-0_5">';$.each(e.find("table tbody tr:not(.thead) td:last-child"),function(){var e=$(this).find('input[type="text"], textarea').val();l+="<td>"+(e?Convert.htmlEscape(e):"")+"</td>"});l+="</tr>"}).promise().done(function(){$(".container-fluid .long-table-wrapper > .long-table-scroll > .table.table-striped.table-hover tbody tr.row-no-styling").before(l);$.each($(mysql_tbl_cnt1_sel_str).find("thead th, tbody td:last-child"),function(e,t){if($(this).is("th")){$(this).html("<em>"+$(this).text()+"</em>")}if($(this).is(":last-child")&&!$(this).parents(".table-hardcoded").length){$(this).css("border-right","1px solid #"+(v___theme_night_mode_enabled?"2f3238":"eee")+"")}})})}}},error:function(e){}})},100)})}else{if(v___location_file!="view_table.cgi"){table_data_init($(mysql_tbl_cnt1_sel_str),false,_)}$(mysql_tbl_cnt1_sel_str).prev(".dataTables_filter").attr("style","margin-top: -25px !important; margin-right: 1px;");$(".container-fluid .dataTable.no-footer").find("thead th:first-child").addClass("pointer-events-none opacity-0");$.each($(".container-fluid .dataTables_filter"),function(){var e=$(this).parents(".long-table-wrapper"),t=e.find(mysql_tbl_cnt1_sel_str),a=-Infinity;t.find("tr").each(function(e,t){a=Math.max(a,parseFloat(e))});if(a<10){t.parents(".dataTables_wrapper").find(".dataTables_filter").remove()}else{$(this).detach().insertBefore(e).css({float:"right","margin-top":"-30px"})}}).promise().done(function(){page.render.content.filter.init()});if(v___location_path==v___location_prefix+"/mysql/edit_dbase.cgi"||v___location_path==v___location_prefix+"/postgresql/edit_dbase.cgi"){$('.container-fluid .table-hardcoded[width="100%"]').nextAll(".select_all, .select_invert").attr("style","margin-top: 4px !important");$(".container-fluid #delete").addClass("hidden").after('<button class="btn btn-danger" type="submit" name="deleteClone" id="deleteClone" disabled><i class="fa fa-fw fa-trash-o">&nbsp;&nbsp;</i><span>'+theme_language("database_object_selected_delete2")+"</span></button>");$(".container-fluid #fields").addClass("heighter-34");$(".container-fluid .ui_form_end_submit").parent().find(".ui_form_end_submit:not(:first), .ui_form_end_submit:not(:first) + input").wrapAll('<div class="btn-group end_submits"></div>');$(".container-fluid .btn-group.end_submits .btn").addClass("heighter-34 heighter-34-force")}if(v___location_path==v___location_prefix+"/mysql/edit_table.cgi"||v___location_path==v___location_prefix+"/postgresql/edit_table.cgi"){$(".container-fluid #delete").addClass("hidden").after('<button class="btn btn-warning" type="submit" name="deleteClone" id="deleteClone" data-clone-allowed="1" disabled>'+n+"<span>"+theme_language("database_delete_selected_field")+"</span></button>")}$('.container-fluid button#delete, .container-fluid button#deleteClone[data-clone-allowed="1"]').confirmation({},function(e){e.preventDefault();e.stopPropagation();if(v___location_file!="edit_table.cgi"&&v___location_file!="view_table.cgi"){return}var t=$(this);setTimeout(function(){t.addClass("btn-danger");t.find(".fa.fa-trash, .fa.fa-trash-o").replaceWith(l)},0);$.ajax({type:"POST",url:t.parents("form").attr("action")+"?xhr&"+t.attr("id")+"=1",data:t.parents("form").serialize(),dataType:"text",success:function(e){if(!session.status(e)){return}if(!$(e).find(".ui_form").length){plugins.messenger.post('<i class="fa fa-fw fa-exclamation-triangle"></i>'+$(e).find("[data-fatal-error-text]").html(),10,"error")}else{var a=$(""+mysql_tbl_cnt1_sel_str+" tbody tr"),l=$(""+mysql_tbl_cnt1_sel_str+' tr td:first-child input[type="checkbox"]:checked').parents("tr"),i=l.length,s=mysql_tbl_cnt1_sel_str;if(v___location_file=="view_table.cgi"){$.each(a,function(){$(s).DataTable().row($(this)).remove()}).promise().done(function(){$(s).DataTable().rows.add($(e).find(s).find("tbody").find("tr")).draw();$.each($(mysql_tbl_cnt1_sel_str).find("tbody tr td"),function(e,t){proc_sql_table($(this))});page_table_rows_control()})}else{$.each(l,function(){$(s).DataTable().row($(this)).remove().draw()})}var o=v___location_file=="edit_table.cgi"?"field":"row",_=i>1?"database_edit_"+o+"s_delete_successful":"database_edit_"+o+"_delete_successful";t.prop("disabled",true);db_check_selected()}$("button").find(".cspinner_container").replaceWith(n);t.removeClass("btn-danger")},error:function(e){}})})}});db_check_selected()})}}!$.support.spa&&f__ex__mysql_runner();